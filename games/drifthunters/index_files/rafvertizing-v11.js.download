(()=>{var e,t,n,i,s={9662:(e,t,n)=>{var i=n(614),s=n(6330),r=TypeError;e.exports=function(e){if(i(e))return e;throw r(s(e)+" is not a function")}},6077:(e,t,n)=>{var i=n(614),s=String,r=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw r("Can't set "+s(e)+" as a prototype")}},9670:(e,t,n)=>{var i=n(111),s=String,r=TypeError;e.exports=function(e){if(i(e))return e;throw r(s(e)+" is not an object")}},3013:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:(e,t,n)=>{"use strict";var i,s,r,o=n(3013),a=n(9781),d=n(7854),c=n(614),u=n(111),l=n(2597),h=n(648),p=n(6330),g=n(8880),m=n(8052),f=n(3070).f,b=n(7976),v=n(9518),y=n(7674),w=n(5112),S=n(9711),A=n(9909),B=A.enforce,I=A.get,P=d.Int8Array,k=P&&P.prototype,C=d.Uint8ClampedArray,U=C&&C.prototype,T=P&&v(P),x=k&&v(k),z=Object.prototype,E=d.TypeError,R=w("toStringTag"),_=S("TYPED_ARRAY_TAG"),F="TypedArrayConstructor",q=o&&!!y&&"Opera"!==h(d.opera),O=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},D=function(e){var t=v(e);if(u(t)){var n=I(t);return n&&l(n,F)?n.TypedArrayConstructor:D(t)}},M=function(e){if(!u(e))return!1;var t=h(e);return l(j,t)||l(L,t)};for(i in j)(r=(s=d[i])&&s.prototype)?B(r).TypedArrayConstructor=s:q=!1;for(i in L)(r=(s=d[i])&&s.prototype)&&(B(r).TypedArrayConstructor=s);if((!q||!c(T)||T===Function.prototype)&&(T=function(){throw E("Incorrect invocation")},q))for(i in j)d[i]&&y(d[i],T);if((!q||!x||x===z)&&(x=T.prototype,q))for(i in j)d[i]&&y(d[i].prototype,x);if(q&&v(U)!==x&&y(U,x),a&&!l(x,R))for(i in O=!0,f(x,R,{get:function(){return u(this)?this[_]:void 0}}),j)d[i]&&g(d[i],_,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:q,TYPED_ARRAY_TAG:O&&_,aTypedArray:function(e){if(M(e))return e;throw E("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!y||b(T,e)))return e;throw E(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,i){if(a){if(n)for(var s in j){var r=d[s];if(r&&l(r.prototype,e))try{delete r.prototype[e]}catch(n){try{r.prototype[e]=t}catch(e){}}}x[e]&&!n||m(x,e,n?t:q&&k[e]||t,i)}},exportTypedArrayStaticMethod:function(e,t,n){var i,s;if(a){if(y){if(n)for(i in j)if((s=d[i])&&l(s,e))try{delete s[e]}catch(e){}if(T[e]&&!n)return;try{return m(T,e,n?t:q&&T[e]||t)}catch(e){}}for(i in j)!(s=d[i])||s[e]&&!n||m(s,e,t)}},getTypedArrayConstructor:D,isView:function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||l(j,t)||l(L,t)},isTypedArray:M,TypedArray:T,TypedArrayPrototype:x}},1285:(e,t,n)=>{"use strict";var i=n(7908),s=n(1400),r=n(6244);e.exports=function(e){for(var t=i(this),n=r(t),o=arguments.length,a=s(o>1?arguments[1]:void 0,n),d=o>2?arguments[2]:void 0,c=void 0===d?n:s(d,n);c>a;)t[a++]=e;return t}},1318:(e,t,n)=>{var i=n(5656),s=n(1400),r=n(6244),o=function(e){return function(t,n,o){var a,d=i(t),c=r(d),u=s(o,c);if(e&&n!=n){for(;c>u;)if((a=d[u++])!=a)return!0}else for(;c>u;u++)if((e||u in d)&&d[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},1589:(e,t,n)=>{var i=n(1400),s=n(6244),r=n(6135),o=Array,a=Math.max;e.exports=function(e,t,n){for(var d=s(e),c=i(t,d),u=i(void 0===n?d:n,d),l=o(a(u-c,0)),h=0;c<u;c++,h++)r(l,h,e[c]);return l.length=h,l}},206:(e,t,n)=>{var i=n(1702);e.exports=i([].slice)},4362:(e,t,n)=>{var i=n(1589),s=Math.floor,r=function(e,t){var n=e.length,d=s(n/2);return n<8?o(e,t):a(e,r(i(e,0,d),t),r(i(e,d),t),t)},o=function(e,t){for(var n,i,s=e.length,r=1;r<s;){for(i=r,n=e[r];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==r++&&(e[i]=n)}return e},a=function(e,t,n,i){for(var s=t.length,r=n.length,o=0,a=0;o<s||a<r;)e[o+a]=o<s&&a<r?i(t[o],n[a])<=0?t[o++]:n[a++]:o<s?t[o++]:n[a++];return e};e.exports=r},4326:(e,t,n)=>{var i=n(1702),s=i({}.toString),r=i("".slice);e.exports=function(e){return r(s(e),8,-1)}},648:(e,t,n)=>{var i=n(1694),s=n(614),r=n(4326),o=n(5112)("toStringTag"),a=Object,d="Arguments"==r(function(){return arguments}());e.exports=i?r:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=a(e),o))?n:d?r(t):"Object"==(i=r(t))&&s(t.callee)?"Arguments":i}},2128:(e,t,n)=>{var i=n(2597),s=n(3887),r=n(1236),o=n(3070);e.exports=function(e,t,n){for(var a=s(t),d=o.f,c=r.f,u=0;u<a.length;u++){var l=a[u];i(e,l)||n&&i(n,l)||d(e,l,c(t,l))}}},9920:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8880:(e,t,n)=>{var i=n(9781),s=n(3070),r=n(9114);e.exports=i?function(e,t,n){return s.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,n)=>{"use strict";var i=n(4948),s=n(3070),r=n(9114);e.exports=function(e,t,n){var o=i(t);o in e?s.f(e,o,r(0,n)):e[o]=n}},7045:(e,t,n)=>{var i=n(6339),s=n(3070);e.exports=function(e,t,n){return n.get&&i(n.get,t,{getter:!0}),n.set&&i(n.set,t,{setter:!0}),s.f(e,t,n)}},8052:(e,t,n)=>{var i=n(614),s=n(3070),r=n(6339),o=n(3072);e.exports=function(e,t,n,a){a||(a={});var d=a.enumerable,c=void 0!==a.name?a.name:t;if(i(n)&&r(n,c,a),a.global)d?e[t]=n:o(t,n);else{try{a.unsafe?e[t]&&(d=!0):delete e[t]}catch(e){}d?e[t]=n:s.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},3072:(e,t,n)=>{var i=n(7854),s=Object.defineProperty;e.exports=function(e,t){try{s(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},9781:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:e=>{var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},317:(e,t,n)=>{var i=n(7854),s=n(111),r=i.document,o=s(r)&&s(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},8886:(e,t,n)=>{var i=n(8113).match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},256:(e,t,n)=>{var i=n(8113);e.exports=/MSIE|Trident/.test(i)},6833:(e,t,n)=>{var i=n(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},5268:(e,t,n)=>{var i=n(4326),s=n(7854);e.exports="process"==i(s.process)},8113:(e,t,n)=>{var i=n(5005);e.exports=i("navigator","userAgent")||""},7392:(e,t,n)=>{var i,s,r=n(7854),o=n(8113),a=r.process,d=r.Deno,c=a&&a.versions||d&&d.version,u=c&&c.v8;u&&(s=(i=u.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!s&&o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(s=+i[1]),e.exports=s},8008:(e,t,n)=>{var i=n(8113).match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var i=n(7854),s=n(1236).f,r=n(8880),o=n(8052),a=n(3072),d=n(2128),c=n(4705);e.exports=function(e,t){var n,u,l,h,p,g=e.target,m=e.global,f=e.stat;if(n=m?i:f?i[g]||a(g,{}):(i[g]||{}).prototype)for(u in t){if(h=t[u],l=e.dontCallGetSet?(p=s(n,u))&&p.value:n[u],!c(m?u:g+(f?".":"#")+u,e.forced)&&void 0!==l){if(typeof h==typeof l)continue;d(h,l)}(e.sham||l&&l.sham)&&r(h,"sham",!0),o(n,u,h,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},2104:(e,t,n)=>{var i=n(4374),s=Function.prototype,r=s.apply,o=s.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(r):function(){return o.apply(r,arguments)})},9974:(e,t,n)=>{var i=n(1702),s=n(9662),r=n(4374),o=i(i.bind);e.exports=function(e,t){return s(e),void 0===t?e:r?o(e,t):function(){return e.apply(t,arguments)}}},4374:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:(e,t,n)=>{var i=n(4374),s=Function.prototype.call;e.exports=i?s.bind(s):function(){return s.apply(s,arguments)}},6530:(e,t,n)=>{var i=n(9781),s=n(2597),r=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=s(r,"name"),d=a&&"something"===function(){}.name,c=a&&(!i||i&&o(r,"name").configurable);e.exports={EXISTS:a,PROPER:d,CONFIGURABLE:c}},1702:(e,t,n)=>{var i=n(4374),s=Function.prototype,r=s.bind,o=s.call,a=i&&r.bind(o,o);e.exports=i?function(e){return e&&a(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},5005:(e,t,n)=>{var i=n(7854),s=n(614),r=function(e){return s(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?r(i[e]):i[e]&&i[e][t]}},8173:(e,t,n)=>{var i=n(9662),s=n(8554);e.exports=function(e,t){var n=e[t];return s(n)?void 0:i(n)}},7854:(e,t,n)=>{var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:(e,t,n)=>{var i=n(1702),s=n(7908),r=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return r(s(e),t)}},3501:e=>{e.exports={}},490:(e,t,n)=>{var i=n(5005);e.exports=i("document","documentElement")},4664:(e,t,n)=>{var i=n(9781),s=n(7293),r=n(317);e.exports=!i&&!s((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var i=n(1702),s=n(7293),r=n(4326),o=Object,a=i("".split);e.exports=s((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?a(e,""):o(e)}:o},2788:(e,t,n)=>{var i=n(1702),s=n(614),r=n(5465),o=i(Function.toString);s(r.inspectSource)||(r.inspectSource=function(e){return o(e)}),e.exports=r.inspectSource},9909:(e,t,n)=>{var i,s,r,o=n(4811),a=n(7854),d=n(1702),c=n(111),u=n(8880),l=n(2597),h=n(5465),p=n(6200),g=n(3501),m="Object already initialized",f=a.TypeError,b=a.WeakMap;if(o||h.state){var v=h.state||(h.state=new b),y=d(v.get),w=d(v.has),S=d(v.set);i=function(e,t){if(w(v,e))throw f(m);return t.facade=e,S(v,e,t),t},s=function(e){return y(v,e)||{}},r=function(e){return w(v,e)}}else{var A=p("state");g[A]=!0,i=function(e,t){if(l(e,A))throw f(m);return t.facade=e,u(e,A,t),t},s=function(e){return l(e,A)?e[A]:{}},r=function(e){return l(e,A)}}e.exports={set:i,get:s,has:r,enforce:function(e){return r(e)?s(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=s(t)).type!==e)throw f("Incompatible receiver, "+e+" required");return n}}}},614:(e,t,n)=>{var i=n(4154),s=i.all;e.exports=i.IS_HTMLDDA?function(e){return"function"==typeof e||e===s}:function(e){return"function"==typeof e}},4705:(e,t,n)=>{var i=n(7293),s=n(614),r=/#|\.prototype\./,o=function(e,t){var n=d[a(e)];return n==u||n!=c&&(s(t)?i(t):!!t)},a=o.normalize=function(e){return String(e).replace(r,".").toLowerCase()},d=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},8554:e=>{e.exports=function(e){return null==e}},111:(e,t,n)=>{var i=n(614),s=n(4154),r=s.all;e.exports=s.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:i(e)||e===r}:function(e){return"object"==typeof e?null!==e:i(e)}},1913:e=>{e.exports=!1},2190:(e,t,n)=>{var i=n(5005),s=n(614),r=n(7976),o=n(3307),a=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return s(t)&&r(t.prototype,a(e))}},6244:(e,t,n)=>{var i=n(7466);e.exports=function(e){return i(e.length)}},6339:(e,t,n)=>{var i=n(7293),s=n(614),r=n(2597),o=n(9781),a=n(6530).CONFIGURABLE,d=n(2788),c=n(9909),u=c.enforce,l=c.get,h=Object.defineProperty,p=o&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),g=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!r(e,"name")||a&&e.name!==t)&&(o?h(e,"name",{value:t,configurable:!0}):e.name=t),p&&n&&r(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&r(n,"constructor")&&n.constructor?o&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=u(e);return r(i,"source")||(i.source=g.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return s(this)&&l(this).source||d(this)}),"toString")},4758:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?n:t)(i)}},3070:(e,t,n)=>{var i=n(9781),s=n(4664),r=n(3353),o=n(9670),a=n(4948),d=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,l="enumerable",h="configurable",p="writable";t.f=i?r?function(e,t,n){if(o(e),t=a(t),o(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n.writable){var i=u(e,t);i&&i.writable&&(e[t]=n.value,n={configurable:h in n?n.configurable:i.configurable,enumerable:l in n?n.enumerable:i.enumerable,writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=a(t),o(n),s)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw d("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var i=n(9781),s=n(6916),r=n(5296),o=n(9114),a=n(5656),d=n(4948),c=n(2597),u=n(4664),l=Object.getOwnPropertyDescriptor;t.f=i?l:function(e,t){if(e=a(e),t=d(t),u)try{return l(e,t)}catch(e){}if(c(e,t))return o(!s(r.f,e,t),e[t])}},8006:(e,t,n)=>{var i=n(6324),s=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,s)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var i=n(2597),s=n(614),r=n(7908),o=n(6200),a=n(9920),d=o("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=r(e);if(i(t,d))return t[d];var n=t.constructor;return s(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},7976:(e,t,n)=>{var i=n(1702);e.exports=i({}.isPrototypeOf)},6324:(e,t,n)=>{var i=n(1702),s=n(2597),r=n(5656),o=n(1318).indexOf,a=n(3501),d=i([].push);e.exports=function(e,t){var n,i=r(e),c=0,u=[];for(n in i)!s(a,n)&&s(i,n)&&d(u,n);for(;t.length>c;)s(i,n=t[c++])&&(~o(u,n)||d(u,n));return u}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!n.call({1:2},1);t.f=s?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var i=n(1702),s=n(9670),r=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return s(n),r(i),t?e(n,i):n.__proto__=i,n}}():void 0)},2140:(e,t,n)=>{var i=n(6916),s=n(614),r=n(111),o=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&s(n=e.toString)&&!r(a=i(n,e)))return a;if(s(n=e.valueOf)&&!r(a=i(n,e)))return a;if("string"!==t&&s(n=e.toString)&&!r(a=i(n,e)))return a;throw o("Can't convert object to primitive value")}},3887:(e,t,n)=>{var i=n(5005),s=n(1702),r=n(8006),o=n(5181),a=n(9670),d=s([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(a(e)),n=o.f;return n?d(t,n(e)):t}},7066:(e,t,n)=>{"use strict";var i=n(9670);e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4488:(e,t,n)=>{var i=n(8554),s=TypeError;e.exports=function(e){if(i(e))throw s("Can't call method on "+e);return e}},6200:(e,t,n)=>{var i=n(2309),s=n(9711),r=i("keys");e.exports=function(e){return r[e]||(r[e]=s(e))}},5465:(e,t,n)=>{var i=n(7854),s=n(3072),r="__core-js_shared__",o=i[r]||s(r,{});e.exports=o},2309:(e,t,n)=>{var i=n(1913),s=n(5465);(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.3",mode:i?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.3/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:(e,t,n)=>{var i=n(7392),s=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!s((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},261:(e,t,n)=>{var i,s,r,o,a=n(7854),d=n(2104),c=n(9974),u=n(614),l=n(2597),h=n(7293),p=n(490),g=n(206),m=n(317),f=n(8053),b=n(6833),v=n(5268),y=a.setImmediate,w=a.clearImmediate,S=a.process,A=a.Dispatch,B=a.Function,I=a.MessageChannel,P=a.String,k=0,C={},U="onreadystatechange";try{i=a.location}catch(e){}var T=function(e){if(l(C,e)){var t=C[e];delete C[e],t()}},x=function(e){return function(){T(e)}},z=function(e){T(e.data)},E=function(e){a.postMessage(P(e),i.protocol+"//"+i.host)};y&&w||(y=function(e){f(arguments.length,1);var t=u(e)?e:B(e),n=g(arguments,1);return C[++k]=function(){d(t,void 0,n)},s(k),k},w=function(e){delete C[e]},v?s=function(e){S.nextTick(x(e))}:A&&A.now?s=function(e){A.now(x(e))}:I&&!b?(o=(r=new I).port2,r.port1.onmessage=z,s=c(o.postMessage,o)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&i&&"file:"!==i.protocol&&!h(E)?(s=E,a.addEventListener("message",z,!1)):s=U in m("script")?function(e){p.appendChild(m("script")).onreadystatechange=function(){p.removeChild(this),T(e)}}:function(e){setTimeout(x(e),0)}),e.exports={set:y,clear:w}},1400:(e,t,n)=>{var i=n(9303),s=Math.max,r=Math.min;e.exports=function(e,t){var n=i(e);return n<0?s(n+t,0):r(n,t)}},4599:(e,t,n)=>{var i=n(7593),s=TypeError;e.exports=function(e){var t=i(e,"number");if("number"==typeof t)throw s("Can't convert number to bigint");return BigInt(t)}},5656:(e,t,n)=>{var i=n(8361),s=n(4488);e.exports=function(e){return i(s(e))}},9303:(e,t,n)=>{var i=n(4758);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},7466:(e,t,n)=>{var i=n(9303),s=Math.min;e.exports=function(e){return e>0?s(i(e),9007199254740991):0}},7908:(e,t,n)=>{var i=n(4488),s=Object;e.exports=function(e){return s(i(e))}},4590:(e,t,n)=>{var i=n(3002),s=RangeError;e.exports=function(e,t){var n=i(e);if(n%t)throw s("Wrong offset");return n}},3002:(e,t,n)=>{var i=n(9303),s=RangeError;e.exports=function(e){var t=i(e);if(t<0)throw s("The argument can't be less than 0");return t}},7593:(e,t,n)=>{var i=n(6916),s=n(111),r=n(2190),o=n(8173),a=n(2140),d=n(5112),c=TypeError,u=d("toPrimitive");e.exports=function(e,t){if(!s(e)||r(e))return e;var n,d=o(e,u);if(d){if(void 0===t&&(t="default"),n=i(d,e,t),!s(n)||r(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},4948:(e,t,n)=>{var i=n(7593),s=n(2190);e.exports=function(e){var t=i(e,"string");return s(t)?t:t+""}},1694:(e,t,n)=>{var i={};i[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(i)},6330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9711:(e,t,n)=>{var i=n(1702),s=0,r=Math.random(),o=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++s+r,36)}},3307:(e,t,n)=>{var i=n(6293);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,n)=>{var i=n(9781),s=n(7293);e.exports=i&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:e=>{var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},4811:(e,t,n)=>{var i=n(7854),s=n(614),r=i.WeakMap;e.exports=s(r)&&/native code/.test(String(r))},5112:(e,t,n)=>{var i=n(7854),s=n(2309),r=n(2597),o=n(9711),a=n(6293),d=n(3307),c=s("wks"),u=i.Symbol,l=u&&u.for,h=d?u:u&&u.withoutSetter||o;e.exports=function(e){if(!r(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&r(u,e)?c[e]=u[e]:c[e]=d&&l?l(t):h(t)}return c[e]}},2087:(e,t,n)=>{var i=n(7854),s=n(9781),r=n(7045),o=n(7066),a=n(7293),d=i.RegExp,c=d.prototype;s&&a((function(){var e=!0;try{d(".","d")}catch(t){e=!1}var t={},n="",i=e?"dgimsy":"gimsy",s=function(e,i){Object.defineProperty(t,e,{get:function(){return n+=i,!0}})},r={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(r.hasIndices="d"),r)s(o,r[o]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==i||n!==i}))&&r(c,"flags",{configurable:!0,get:o})},3105:(e,t,n)=>{"use strict";var i=n(260),s=n(1285),r=n(4599),o=n(648),a=n(6916),d=n(1702),c=n(7293),u=i.aTypedArray,l=i.exportTypedArrayMethod,h=d("".slice);l("fill",(function(e){var t=arguments.length;u(this);var n="Big"===h(o(this),0,3)?r(e):+e;return a(s,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},3462:(e,t,n)=>{"use strict";var i=n(7854),s=n(6916),r=n(260),o=n(6244),a=n(4590),d=n(7908),c=n(7293),u=i.RangeError,l=i.Int8Array,h=l&&l.prototype,p=h&&h.set,g=r.aTypedArray,m=r.exportTypedArrayMethod,f=!c((function(){var e=new Uint8ClampedArray(2);return s(p,e,{length:1,0:3},1),3!==e[1]})),b=f&&r.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new l(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){g(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=d(e);if(f)return s(p,this,n,t);var i=this.length,r=o(n),c=0;if(r+t>i)throw u("Wrong length");for(;c<r;)this[t+c]=n[c++]}),!f||b)},3824:(e,t,n)=>{"use strict";var i=n(7854),s=n(1702),r=n(7293),o=n(9662),a=n(4362),d=n(260),c=n(8886),u=n(256),l=n(7392),h=n(8008),p=d.aTypedArray,g=d.exportTypedArrayMethod,m=i.Uint16Array,f=m&&s(m.prototype.sort),b=!(!f||r((function(){f(new m(2),null)}))&&r((function(){f(new m(2),{})}))),v=!!f&&!r((function(){if(l)return l<74;if(c)return c<67;if(u)return!0;if(h)return h<602;var e,t,n=new m(516),i=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,i[e]=e-2*t+3;for(f(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==i[e])return!0}));g("sort",(function(e){return void 0!==e&&o(e),v?f(this,e):a(p(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!v||b)},1091:(e,t,n)=>{var i=n(2109),s=n(7854),r=n(261).clear;i({global:!0,bind:!0,enumerable:!0,forced:s.clearImmediate!==r},{clearImmediate:r})},4633:(e,t,n)=>{n(1091),n(2986)},2986:(e,t,n)=>{var i=n(2109),s=n(7854),r=n(261).set;i({global:!0,bind:!0,enumerable:!0,forced:s.setImmediate!==r},{setImmediate:r})},4155:e=>{var t,n,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var a,d=[],c=!1,u=-1;function l(){c&&a&&(c=!1,a.length?d=a.concat(d):u=-1,d.length&&h())}function h(){if(!c){var e=o(l);c=!0;for(var t=d.length;t;){for(a=d,d=[];++u<t;)a&&a[u].run();u=-1,t=d.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new p(e,t)),1!==d.length||c||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return s[e](n,n.exports,o),n.exports}o.m=s,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var s=Object.create(null);o.r(s);var r={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>r[e]=()=>n[e]));return r.default=()=>n,o.d(s,r),s},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>e+".bundle.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},i="crazygames-ads:",o.l=(e,t,s,r)=>{if(n[e])n[e].push(t);else{var a,d;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==i+s){a=l;break}}a||(d=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",i+s),a.src=e),n[e]=[t];var h=(t,i)=>{a.onerror=a.onload=null,clearTimeout(p);var s=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(i))),t)return t(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),d&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={179:0};o.f.j=(t,n)=>{var i=o.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var s=new Promise(((n,s)=>i=e[t]=[n,s]));n.push(i[2]=s);var r=o.p+o.u(t),a=new Error;o.l(r,(n=>{if(o.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",a.name="ChunkLoadError",a.type=s,a.request=r,i[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,s,[r,a,d]=n,c=0;if(r.some((t=>0!==e[t]))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(d)d(o)}for(t&&t(n);c<r.length;c++)s=r[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=globalThis.webpackChunkcrazygames_ads=globalThis.webpackChunkcrazygames_ads||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";o(2087),o(3105),o(3462),o(3824),o(4633);const e=new class{constructor(){var e,t,n;n=void 0,(t="debugEnabled")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,this.debugEnabled=this.isDebugEnabled()}debug(e){if(this.debugEnabled){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.log(e,...n)}}log(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.log(e,...n)}warn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.warn(e,...n)}error(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.error(e,...n)}isDebugEnabled(){return!(window.location.search.indexOf("raf_debug=true")<0)}},t=e;function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const i=class{constructor(){n(this,"initialized",!1),n(this,"disabledBidder",null),n(this,"gamKeys",void 0),n(this,"actualCandidates",[]),this.gamKeys={appnexus:"appnexus_disabled",ix:"ix_disabled",pubmatic:"pubmatic_disabled",rubicon:"rubicon_disabled",sharethrough:"st_disabled",rise:"rise_disabled",amazon:"amazon_disabled",iionads:"iion_disabled",venatus:"venatus_disabled",stroeerCore:"stroeer_disabled",mediafuse:"mediafuse_disabled",webads:"webads_disabled",goldbach:"goldbach_disabled",smilewanted:"smilewanted_disabled",beintoo:"beintoo_disabled",seedtag:"seedtag_disabled",adbility:"adbility_disabled",richaudience:"raudience_disabled",mediasquare:"mediasquare_disabled",ozone:"ozone_disabled",connatix:"jwpconnatix_disabled",invibes:"invibes_disabled",ttd:"ttd_disabled",alkimi:"alkimi_disabled"}}init(){if(this.initialized)return;this.initialized=!0;const e=this.getCandidates(),n=.005*e.length;if(Math.random()<n){const t=e[Math.floor(Math.random()*e.length)];this.disabledBidder=t}t.debug(`Incremental bidder test initialized with disabled bidder: ${this.disabledBidder}`)}isBidderDisabled(e){return this.disabledBidder===e}addToActualCandidates(e){this.getCandidates().includes(e)&&this.actualCandidates.push(e)}getGamKeys(){return this.initialized?this.actualCandidates.reduce(((e,t)=>({...e,[this.gamKeys[t]]:`${this.isBidderDisabled(t)}`})),{}):{}}getCandidates(){return Object.keys(this.gamKeys)}};function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r=["RU","VE","BY"];class a{constructor(){s(this,"sessionBidderConfig",{}),s(this,"incrementalBidderTest",void 0),this.incrementalBidderTest=new i,this.incrementalBidderTest.init()}getBidderConfig(e){return this.sessionBidderConfig[e]}setBidderConfig(e,t){this.sessionBidderConfig[e]={...t}}addToIncrementalBidderTest(e){this.incrementalBidderTest.addToActualCandidates(e)}disabledInIncrementalBidderTest(e){const n=this.incrementalBidderTest.isBidderDisabled(e);return n&&t.debug(`Incremental bidder test disabling ${e}.`),n}getIncrementalBidderGamKeys(){return this.incrementalBidderTest.getGamKeys()}getKVs(){return Object.values(this.sessionBidderConfig).filter((e=>void 0!==e.gamKey)).reduce(((e,t)=>{let{gamKey:n,enabled:i}=t;return{...e,[n]:`${i}`}}),{})}}const d=new class{constructor(){s(this,"config",null),s(this,"sessionBidderConfig",{})}setBidderConfig(e){this.config=e}getBidderConfig(e){if(!this.config)throw new Error("Bidder config not loaded");const n=this.config[e];return n||(t.error(`Bidder config for ${e} not found. Disabling for this session.`),{rules:[{enabled:0}]})}isBidderEnabledForSession(e,n,i){const s=this.getSessionConfig(i),r=s.getBidderConfig(e);if(r)return r.enabled;if(window.location.search.includes(`${e}_enabled`))return t.debug(`Force enabling bidder ${e} for this session through query param.`),s.setBidderConfig(e,{probability:1,enabled:!0}),!0;this.logWarningIfMissingSessionInfo(n,e);const o=this.getBidderConfig(e).rules,{enabled:a,gamKey:d}=this.getApplicableRule(o,n,i,e);let c;return 1===a?(s.addToIncrementalBidderTest(e),c=!s.disabledInIncrementalBidderTest(e)):c=Math.random()<a,t.debug(`Bidder ${e} is ${c?"enabled":"disabled"} with probability ${a} for ${i}s.`),s.setBidderConfig(e,{probability:a,enabled:c,gamKey:d}),c}getApplicableRule(e,n,i,s){if(null!=n&&n.country){const{country:e}=n;if(r.includes(e))return{enabled:0}}const o=(null==n?void 0:n.country)??"US",a=(null==n?void 0:n.device)??"desktop",d=null==n?void 0:n.locale,c=null==n?void 0:n.browser;for(const t of e){if(!t.conditions)return t;if(!n)continue;const{country:e,locale:s,browser:r,device:u,adFormat:l}=t.conditions;if((!e||e.includes(o))&&((!s||!d||s.includes(d))&&(!r||!c||r.includes(c))&&(!u||u.includes(a))&&(!l||l.includes(i))))return t}return t.error(`No rule applies for bidder ${s} with config ${JSON.stringify(n)} and ad format ${i}. Disabling for safety.`),{enabled:0}}getIncrementalBidderGamKeys(e){return this.getSessionConfig(e).getIncrementalBidderGamKeys()}getSessionKVs(e){return this.getSessionConfig(e).getKVs()}getSessionConfig(e){return this.sessionBidderConfig[e]||(this.sessionBidderConfig[e]=new a),this.sessionBidderConfig[e]}logWarningIfMissingSessionInfo(e,n){if("google"===n)return;if(!e)return void t.warn(`Session info is missing. Using the default rule for ${n}.`);const i=[];e.country||i.push("country"),e.device||i.push("device"),e.locale||i.push("locale"),e.browser||i.push("browser"),i.length>0&&t.warn(`Missing session info: ${i.join(", ")}.`)}resetSessionBidderConfig(){t.warn("Resetting session bidder config. This should only be used for testing purposes.");for(const e of Object.getOwnPropertyNames(this.sessionBidderConfig))delete this.sessionBidderConfig[e]}},c=d,u=JSON.parse('{"api":"https://api.crazygames.com"}');const l={rubicon:{cost:0,discrepancy:.08,rules:[{enabled:0,conditions:{country:["TH","RO","CR","SK","VE","KW","KE","QA","UA","BO","EE","PA","SN","EG","PR","HR","MA","LT","OM","GE","NG","HN","BG","JM","JO","LV","BD","TT","BH","BW","SV","NI","CI","MK","GU","LU","BS","PY","AL","CY","IR","LB","BA","LK","AM","KH","GH","CN","PS","DZ","KZ","GY","TZ","UZ","MD","KY","RW","ZM","BM","MM","NP","AS","NA","MU","ZW","CG","IQ","MO","UG","MP","ET","BY","BB","LC","MV","SR","TM","KG","AO","IM","BN","BT","AX","BZ","SY","DM","GP","GW","GM","AI","AW","MZ","SD","CW","ME","MG","BQ","RE","VC","VI","MC","PG","LA","AG","MN","MQ","KN","GG","GD","NE","CD","SC","SX","GF","NC","AD","MW","LY","FJ","VG","NU","CU","SM","SL","PF","HT","JE","AF","FO","GA","LI","SZ","SS","GL","GN","GI","CM","MR","LS","TG","YT","SO","DJ","TC","CV","LR","VA","BF","TJ","BI","TL","FM","BJ","ML","MS","YE","CF","SB","MF","CK","TD","BL","PM","KM","TO","VU","WS","FK","WF","ST","GQ","NF","PW","KI","MH","CO","AZ","AR","DO","PE","GT","TR","EC"]}},{enabled:1}]},appnexus:{discrepancy:.03,rules:[{enabled:0,conditions:{country:["UA","BY","VE","LB","BA","MK","IQ","ZW","ME","TM","PF","TJ","LY","SO","GP","AX","YE","AD","CD","MC","GA","DZ","IN","ID","PK"]}},{enabled:1}]},ix:{discrepancy:.07,rules:[{enabled:0,conditions:{country:["CN","AE","CH","EG"]}},{enabled:0,conditions:{adFormat:["video"],device:["mobile","tablet"]}},{enabled:1}]},pubmatic:{cost:0,discrepancy:.045,rules:[{enabled:0,conditions:{country:["AF","AX","AL","DZ","AD","AM","AZ","BD","BY","BO","BA","BG","CN","CR","CD","DO","EC","EG","SV","PF","GA","GR","GP","GT","HN","IQ","KZ","LV","LB","LY","MK","MD","MC","ME","MA","NP","PK","PA","PY","PE","PT","RS","SO","LK","TJ","TT","TR","TM","UA","UY","VE","VN","YE","ZW","IN","HK"]}},{enabled:1}]},amazon:{discrepancy:.02,rules:[{enabled:1}]},sharethrough:{discrepancy:.055,rules:[{enabled:0,conditions:{country:["CO"]}},{enabled:1}]},venatus:{cost:.3,discrepancy:.015,rules:[{enabled:1,conditions:{country:["US","GB","CA","FR","IT","ES","DE","TW","PE","BE","GR","MX","IE"]}},{enabled:0}]},rise:{discrepancy:.1,rules:[{enabled:1,conditions:{country:["US","CA","GB","DE","AU","NL","BE","ES","IT","FR","SE","FI","NO","DK","CH","IE","AT"]}},{enabled:0}]},stroeerCore:{discrepancy:.03,rules:[{enabled:1,conditions:{country:["DE","AT","CH"]}},{enabled:0}]},mediafuse:{cost:.2,discrepancy:.08,rules:[{enabled:1,conditions:{country:["US","CA","GB","AU"]}},{enabled:0}]},iionads:{discrepancy:.095,rules:[{enabled:1,conditions:{country:["NZ","AU","IN","ID","PH","JP","MY","TH","SG","NL","BH","QA","OM","KW","SA","AE"]}},{enabled:0}]},webads:{discrepancy:.04,rules:[{enabled:1,conditions:{country:["NL"]}},{enabled:.1,conditions:{country:["IT","ES"]}},{enabled:0}]},goldbach:{cost:.3,discrepancy:.41,rules:[{enabled:1,conditions:{country:["CH"]}},{enabled:0}]},smilewanted:{discrepancy:.2,rules:[{enabled:1,conditions:{country:["FR","CA","US","GB"]}},{enabled:0}]},beintoo:{rules:[{enabled:.1,conditions:{country:["DE","ES"]}},{enabled:0}]},seedtag:{rules:[{enabled:.1}]},adbility:{rules:[{enabled:.1,conditions:{country:["DE"],adFormat:["video"]}},{enabled:0}]},richaudience:{discrepancy:.05,rules:[{enabled:.1}]},mediasquare:{discrepancy:.05,rules:[{enabled:.1,conditions:{country:["FR"]}},{enabled:0}]},google:{rules:[{enabled:1}]},adsense:{rules:[{enabled:0}]},ozone:{rules:[{enabled:.1}]},connatix:{rules:[{enabled:.1}]},invibes:{rules:[{enabled:.1,conditions:{country:["UK"]}},{enabled:0}]},ttd:{cost:.018,rules:[{enabled:1}]},alkimi:{rules:[{enabled:.1,conditions:{country:["UK"]}},{enabled:0}]}};function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p{constructor(){h(this,"analyticsEventHandler",void 0),h(this,"eventQueue",[])}static getInstance(){return p.instance||(p.instance=new p),p.instance}init(e){const n=e.analyticsEventHandler;n?(this.analyticsEventHandler=n,this.eventQueue.length>0&&(this.eventQueue.forEach((e=>this.analyticsEventHandler(e))),this.eventQueue=[])):t.warn("[CrazyAnalyticsService] analyticsEventHandler not set")}sendDisableBidderEvent(e){this.sendEvent({type:"disableVideoBidder",bidder:e.bidder,unit:e.unit})}sendAdsConfigLoadFailedEvent(e){this.sendEvent({type:"adsConfigLoadFailed",reason:e.reason})}getEventQueue(){return this.eventQueue}async sendEvent(e){if(!this.analyticsEventHandler)return t.warn("[CrazyAnalyticsService] analyticsEventHandler not set"),this.eventQueue.length>=10?void t.warn("[CrazyAnalyticsService] event queue is full, dropping event",e):void this.eventQueue.push(e);t.debug("[CrazyAnalyticsService] forwarding event",e),this.analyticsEventHandler(e)}}h(p,"instance",void 0);const g=p,m=.916089835433622;let f;function b(){return f||m}function v(e){return e instanceof Error?e.message??e.toString():`Unknown error ${JSON.stringify(e)}`}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return`${u.api}/v3/en_US/config`}const S=new class{constructor(){y(this,"loaded",!1),y(this,"success",null),y(this,"resolvers",[])}waitTillLoaded(){return this.loaded?this.success?Promise.resolve():Promise.reject(new Error("Config failed to load")):new Promise(((e,t)=>{this.resolvers.push({resolve:e,reject:t})}))}async fetchConfig(){const e=w();try{const n=await fetch(e);if(!n.ok)throw t.error("[configLoader] fetchConfig - response not ok",n),new Error(`Network response was not ok: ${JSON.stringify(n)}`);const i=await n.json();this.setConfig(i)}catch(e){t.error("[configLoader] fetchConfig - error fetching config. Using fallback config",e),g.getInstance().sendAdsConfigLoadFailedEvent({reason:v(e)}),this.setConfig({config:l,dollarRate:m})}}setConfig(e){var n;n=e.dollarRate,f=n,c.setBidderConfig(e.config),this.loaded=!0,this.success=!0,this.resolvers.forEach((e=>{let{resolve:t}=e;return t()})),this.resolvers=[],t.debug(`[configLoader] Set bidder config and dollar rate (${e.dollarRate}). Resolving ${this.resolvers.length} waiting promises`)}},A={advertising:{priceFloor:()=>.02,bidders:Object.values({rubicon:{bidder:"rubicon",accountId:"16980",siteId:"152672"},appnexus:{bidder:"appnexus"},ix:{bidder:"ix"},pubmatic:{bidder:"pubmatic",publisherId:"156561"},amazon:{bidder:"amazon",pubID:"9e9bffbc-66c5-4b5b-89aa-4d839e05ce3a",adServer:"googletag"},adsense:{bidder:"adsense",client:"ca-pub-8415986145297288"},sharethrough:{bidder:"sharethrough"},venatus:{bidder:"venatus",AV_PUBLISHERID:"5f2063121d82c82557194737"},rise:{bidder:"rise",org:"62a8b3133e1cca000167166d"},mediafuse:{bidder:"mediafuse",placementId:32058692},iionads:{bidder:"iionads"},webads:{bidder:"webads"},smilewanted:{bidder:"smilewanted",zoneId:"crazygames.com_hb_display"},seedtag:{bidder:"seedtag",publisherId:"1497-2859-01"},adbility:{bidder:"adbility",tagId:"3wzinkts"},richaudience:{bidder:"richaudience",supplyType:"site"},beintoo:{bidder:"beintoo"},goldbach:{bidder:"goldbach"},google:{bidder:"google"},stroeerCore:{bidder:"stroeerCore"},mediasquare:{bidder:"mediasquare",owner:"crazygames"},ozone:{bidder:"ozone",siteId:"1500000645",publisherId:"OZONECG00001"},connatix:{bidder:"connatix",placementId:"ab4dcfe6-6fa4-4a9c-901b-51f46809c141"},invibes:{bidder:"invibes",placementId:"invibes_crazygames",customEndpoint:"https://prebid.videostep.com/Bid/VideoAdContent"},ttd:{bidder:"ttd",supplySourceId:"direct9hdbp5v4",publisherId:"1"},alkimi:{bidder:"alkimi",token:"0c1a4f40-286f-4401-a86d-4fe375e160c7"}}),server:{endpoint:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",syncEndpoint:"https://prebid.adnxs.com/pbs/v1/cookie_sync",accountId:"a37f9415-13c7-4a3a-abae-9c18699ec8ff"}},houseAds:{advertiserIds:[134924547]}},B=A.houseAds;function I(e){return null!=e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}async function k(e){return new Promise(((t,n)=>{const i=document.createElement("script");i.src=e,i.async=!0,i.onerror=()=>n(new Error(`Failed to load ${e}`)),i.onload=()=>t(),document.head.appendChild(i)}))}class C{constructor(e){P(this,"scriptName",void 0),P(this,"loaderPromise",null),this.scriptName=e}async loadIfNeeded(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||await this.shouldLoad()?this.load():Promise.resolve()}load(){if(I(this.loaderPromise))return this.loaderPromise;const e=this.getScriptLocation();return this.loaderPromise=k(e).catch((e=>{throw t.error(`[LoadScript] ${this.scriptName} failed to load (${v(e)})`,e),e})),this.loaderPromise}}const U=new class extends C{constructor(){super("Adsense")}getScriptLocation(){return"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"}async shouldLoad(){return!0}};const T=new class extends C{constructor(){super("apstag")}getScriptLocation(){return"//c.amazon-adsystem.com/aax2/apstag.js"}async shouldLoad(){return!0}};const x=function(e){return e instanceof Function};function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E{static getInstance(){return void 0===this.instance&&(this.instance=new E),this.instance}constructor(){z(this,"prebidFullyLoaded",!1);const e=window;e.pbjs=e.pbjs||{que:[]},e.pbjs.que=e.pbjs.que||[],e.pbjs.que.push((()=>{this.prebidFullyLoaded=!0}))}getPbjsOrThrow(){if(!this.prebidFullyLoaded)throw new Error("Prebid is still loading");return window.pbjs}getPbjs(){if(this.prebidFullyLoaded)return this.getPbjsOrThrow()}getPbjsQueue(){return window.pbjs}}function R(){return E.getInstance().getPbjsQueue()}function _(){return E.getInstance().getPbjs()}function F(){return E.getInstance().getPbjsOrThrow()}z(E,"instance",void 0);class q{static getInstance(){return void 0===this.instance&&(this.instance=new q),this.instance}constructor(){z(this,"googletagFullyLoaded",!1);const e=window;e.googletag=e.googletag||{cmd:[]},e.googletag.cmd=e.googletag.cmd||[],e.googletag.cmd.push((()=>{this.googletagFullyLoaded=!0}))}getGoogletagOrThrow(){if(!this.googletagFullyLoaded)throw new Error("googletag is still loading");return window.googletag}getGoogletag(){if(this.googletagFullyLoaded)return this.getGoogletagOrThrow()}getGoogletagCmd(){return window.googletag}}function O(){return q.getInstance().getGoogletagCmd()}function j(){return q.getInstance().getGoogletagOrThrow()}z(q,"instance",void 0);class L{static getInstance(){return void 0===this.instance&&(this.instance=new L),this.instance}constructor(){const e=window;function t(t,n){e.apstag._Q.push([t,n])}const n={init:function(){t("i",arguments)},fetchBids:function(){t("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},dpa:function(){t("di",arguments)},rpa:function(){t("ri",arguments)},upa:function(){t("ui",arguments)},_Q:[]};e.apstag=e.apstag||n}getApstag(){return window.apstag}}function D(){return L.getInstance().getApstag()}z(L,"instance",void 0);class M{constructor(){const e=window;e.adsbygoogle=e.adsbygoogle||[]}static getInstance(){return void 0===this.instance&&(this.instance=new M),this.instance}getAdsenseWindow(){return window.adsbygoogle}}z(M,"instance",void 0);const N=new class extends C{constructor(){super("GoogleTag")}async shouldLoad(){return!this.isGoogleTagDefined()}getScriptLocation(){return"https://securepubads.g.doubleclick.net/tag/js/gpt.js"}isGoogleTagDefined(){const e=q.getInstance().getGoogletag();return void 0!==e&&x(e.pubads)&&x(e.pubads().getSlots)}};function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class G{constructor(){V(this,"data",void 0),this.data={},this.clear()}setItem(e,t){this.data[e]=String(t)}getItem(e){return this.data.hasOwnProperty(e)?this.data[e]:void 0}removeItem(e){delete this.data[e]}clear(){this.data={}}}class ${constructor(){V(this,"storage",void 0),this.storage=this.getAvailableStorage()}static get Instance(){return this._instance?this._instance:this._instance=new this}getItem(e){return this.storage.getItem(e)}setItem(e,t){this.storage.setItem(e,t)}removeItem(e){this.storage.removeItem(e)}clear(){return this.storage.clear()}isFunctioningStorage(e){try{const t=`__AdsSafeLocalStorage__${Date.now()}`,n="test";return e.setItem(t,n),e.getItem(t)!==n?!1:(window.localStorage.removeItem(t),!0)}catch(e){return!1}}getAvailableStorage(){try{return this.hasWorkingLocalStorage()?(t.debug("[SafeLocalStorage] using localStorage"),window.localStorage):this.hasWorkingSessionStorage()?(t.debug("[SafeLocalStorage] fallback to sessionStorage"),window.sessionStorage):(t.warn("[SafeLocalStorage] fallback to InMemoryStorage"),new G)}catch(e){return t.warn("[SafeLocalStorage] fallback to InMemoryStorage"),new G}}hasWorkingLocalStorage(){try{if(!window.hasOwnProperty("localStorage"))return!1;const{localStorage:e}=window;return this.isFunctioningStorage(e)}catch(e){return!1}}hasWorkingSessionStorage(){try{if(!window.hasOwnProperty("sessionStorage"))return!1;const{sessionStorage:e}=window;return this.isFunctioningStorage(e)}catch(e){return!1}}}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}V($,"_instance",void 0);const H=[],K="li-module-enabled",Y="amazon_pf_exp_4_24",Z="hadron_exp_24",Q="game_slug_id_exp25",J="liveramp_enabled",X="uid2_exp",ee=[K,Y,Z,Q,J,X];class te{static getInstance(){return te.instance||(te.instance=new te),te.instance}constructor(){W(this,"experiments",{}),H.push({defaultValue:"false",key:K,options:[{chance:.95,value:"true"}]}),H.push({defaultValue:"false",key:Y,options:[{chance:0,value:"true"}]}),H.push({defaultValue:"false",key:Z,options:[{chance:0,value:"true"}]}),H.push({defaultValue:"false",key:Q,options:[{chance:.5,value:"true"}]}),H.push({defaultValue:"false",key:J,options:[{chance:1,value:"true"}]}),H.push({defaultValue:"false",key:X,options:[{chance:1,value:"true"}]});for(const e of H){const{key:n}=e,i=this.fetchExperimentValue(e);this.experiments[n]={value:i.value},i.forced||$.Instance.setItem(n,i.value),t.debug(`[Experiments] ${n}: ${i.value}`)}}getExperimentValue(e){var t;return null===(t=this.experiments[e])||void 0===t?void 0:t.value}getExperimentValueAsBoolean(e){return void 0!==this.experiments[e]?"true"===this.experiments[e].value:void 0}getExperimentValueAsNumber(e){return void 0!==this.experiments[e]?Number(this.experiments[e].value):void 0}fetchExperimentValue(e){const{key:t}=e,n=this.getForcedExperimentValue(t);if(null!=n)return{value:n,forced:!0};const i=$.Instance.getItem(t);if(null!=i)return{value:i};let s=Math.random();for(const t of e.options){const{chance:e,value:n}=t;if(s<e)return{value:n};s-=e}return{value:e.defaultValue}}getForcedExperimentValue(e){const t=window.location.search,n=new URLSearchParams(t).get(e);if(n)return n}}W(te,"instance",void 0);const ne=te;o(4155);const ie="prebid-v9.js";function se(e){switch(e){case K:case Y:case Z:case Q:case J:case X:return ie}}const re=new class extends C{constructor(){super("Prebid")}getScriptLocation(){const e=this.baseDomain();let t=ie;for(const e of ee)if(ne.getInstance().getExperimentValueAsBoolean(e)){const n=se(e);if(n!==ie){t=n;break}}return`${e}/${t}`}async shouldLoad(){return!this.isPrebidLoaded()}isPrebidLoaded(){const e=window;return e.pbjs&&e.pbjs.libLoaded}baseDomain(){return"https://fafvertizing.crazygames.com"}},oe=["google","amazon","adsense","ix","rubicon","sharethrough","pubmatic","appnexus","rise","stroeerCore","venatus","mediafuse","iionads","webads","goldbach","smilewanted","beintoo","seedtag","adbility","richaudience","mediasquare","ozone","connatix","invibes","ttd","alkimi"];function ae(e,t){for(const n of t)if(n.bidder===e)return n;return null}function de(e){return"amazon"!==e&&"google"!==e&&"adsense"!==e}function ce(){return[...oe]}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class le{constructor(e){let{apiName:t,apiVersion:n,apiArgs:i=["command","callback","version"],callbackArgs:s=["returnValue","success"]}=e;ue(this,"win",window),ue(this,"apiName",void 0),ue(this,"apiVersion",void 0),ue(this,"apiArgs",void 0),ue(this,"callbackArgs",void 0),ue(this,"callName",void 0),ue(this,"returnName",void 0),ue(this,"cmpCallbacks",{}),ue(this,"eventCallbacks",{}),this.apiName=t,this.apiVersion=n,this.apiArgs=i,this.callbackArgs=s,this.callName=`${t}Call`,this.returnName=`${t}Return`}installLocator(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(window[this.apiName])return Promise.resolve();return t>=e?Promise.resolve():((()=>{const{cmpFrame:e}=this.findLocatorFrame();e&&this.setupCMPWhileInIframe(e)})(),window[this.apiName]?Promise.resolve():new Promise((n=>{window.setTimeout((async()=>{await this.installLocator(e,t+1),n()}),50)})))}findLocatorFrame(){let e,t=window;for(;!e;){try{if(t.frames[`${this.apiName}Locator`]){e=t;break}}catch(e){}if(t===window.top)break;t=t.parent}return{cmpFrame:e}}setupCMPWhileInIframe(e){var t=this;window[this.apiName]=function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];const r=Math.random()+"",o=t.apiArgs.reduce(((e,t,n)=>(e[t]=i[n],e)),{version:t.apiVersion,callId:r}),a=o.callback,d=Object.fromEntries(Object.entries(o).filter((e=>{let[t,n]=e;return"callback"!==t}))),c={[t.callName]:d};if(void 0!==a){const e=o.command;if("addEventListener"===e)t.cmpCallbacks[r]=(e,n)=>{a(e,n),t.cmpCallbacks[r]=a;const i=e.listenerId;t.eventCallbacks[i]=(t.eventCallbacks[i]||[]).concat(r)};else if("removeEventListener"===e){const e=o.parameter;if(e){(t.eventCallbacks[e]||[]).forEach((e=>{delete t.cmpCallbacks[e]})),delete t.eventCallbacks[r],t.cmpCallbacks[r]=a}}else t.cmpCallbacks[r]=a}e.postMessage(c,"*")},this.win.addEventListener("message",(e=>this.readPostMessageResponse(e)),!1)}readPostMessageResponse(e){var t;const n="string"==typeof e.data&&e.data.includes(this.returnName)?JSON.parse(e.data):e.data;if(null!=n&&null!==(t=n[this.returnName])&&void 0!==t&&t.callId){const e=n[this.returnName];try{if(this.cmpCallbacks.hasOwnProperty(e.callId)&&void 0!==this.cmpCallbacks[e.callId]){const t=this.cmpCallbacks[e.callId];delete this.cmpCallbacks[e.callId],t(...this.callbackArgs.map((t=>e[t])))}}catch{}}}}const he=function(){const e=new le({apiName:"__uspapi",apiVersion:1,apiArgs:["command","version","callback"]}),t=new le({apiName:"__tcfapi",apiVersion:2,apiArgs:["command","version","callback","parameter"]});return Promise.all([e.installLocator(5),t.installLocator(5)])};const pe=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK"],ge=[...pe,"GB","AI","BM","IO","KY","FK","GI","MS","PN","SH","GS","TC","VG","BR","CH","GB","NO"];function me(e){return!e||ge.indexOf(e)>=0}function fe(e){return!I(e)||"US"===e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ve{constructor(){be(this,"callback",void 0),be(this,"tcfConsentCBInstalled",!1),be(this,"tcfInstalledListenerInstalled",!1),be(this,"installTCFLoadedListener",(()=>{this.tcfInstalledListenerInstalled||(window.addEventListener("message",this.tcfLoadedListener),this.tcfInstalledListenerInstalled=!0)})),be(this,"tcfLoadedListener",(e=>{e.data&&"tcf-loaded"===e.data&&(window.removeEventListener("message",this.tcfLoadedListener),this.installTCFConsentCB())}))}async init(e){return this.callback=e,this.installTCFConsentCB()}async installTCFConsentCB(){if(this.tcfConsentCBInstalled)return;const e=window;e.__tcfapi||await he(),e.__tcfapi?(e.__tcfapi("addEventListener",2,((e,t)=>{t&&e&&(void 0!==this.callback&&this.callback(e,t),"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||this.removeTCFConsentCB(e.listenerId))})),this.tcfConsentCBInstalled=!0):this.installTCFLoadedListener()}removeTCFConsentCB(e){const t=window;t.__tcfapi&&void 0!==e&&t.__tcfapi("removeEventListener",2,(()=>{}),e)}}const ye=class{constructor(e){be(this,"tcfData",null),be(this,"tcfSuccess",!1),be(this,"consentListeners",[]),be(this,"consentTCFCb",((e,t)=>{t&&e&&(this.tcfData=e,this.tcfSuccess=t,this.consentListeners.forEach((n=>{this.callConsentListener(n,e,t)})))}));(void 0!==(null==e?void 0:e.consentInformationRetriever)?null==e?void 0:e.consentInformationRetriever:new ve).init(this.consentTCFCb).then((()=>{void 0!==(null==e?void 0:e.onInitialized)&&e.onInitialized()}))}addTCFConsentListener(e){this.consentListeners.push(e),this.tcfData&&this.callConsentListener(e,this.tcfData,this.tcfSuccess)}hasTCFConsent(){return!!(this.tcfSuccess&&this.tcfData&&this.tcfData.gdprApplies)&&("tcloaded"===this.tcfData.eventStatus||"useractioncomplete"===this.tcfData.eventStatus)}getConsentInformation(e){return me(e)&&(null===this.tcfData||this.tcfData.gdprApplies)?{countryCode:e,applicable:!0,consentInformationAvailable:this.hasTCFConsent()}:null}removeTCConsentListener(e){this.consentListeners=this.consentListeners.filter((t=>t!==e))}callConsentListener(e,t,n){try{e(t,n)}catch(e){console.error(e)}}};const we=function(e,t){return new Promise(((n,i)=>{window.setTimeout((()=>{n(t)}),e)}))};function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ae{retrieveConsentInformation(){return new Promise(((e,t)=>{const n=window.__uspapi;if(void 0===n)return e(null);n("getUSPData",1,((t,n)=>{e(n?t:null)}))}))}}const Be=class{constructor(e){Se(this,"consentInformationRetriever",void 0),Se(this,"uspConsent",void 0),Se(this,"consentListeners",[]),Se(this,"storeUspConsent",(e=>{this.uspConsent=e,this.consentListeners.forEach((t=>this.callConsentListener(t,e)))})),this.consentInformationRetriever=void 0!==e?e:new Ae}getUspConsent(){return Promise.race([this.getAndStoreUspConsentFromCMP(),we(200,null)])}addUSPConsentListener(e){this.getAndStoreUspConsentFromCMP(),this.consentListeners.push(e),void 0!==this.uspConsent&&this.callConsentListener(e,this.uspConsent)}removeUSPConsentListener(e){this.consentListeners=this.consentListeners.filter((t=>t!==e))}hasUspConsent(){return!(void 0===this.uspConsent||null===this.uspConsent)}getConsentInformation(e){return fe(e)?{countryCode:e,applicable:!0,consentInformationAvailable:this.hasUspConsent()}:null}callConsentListener(e,t){try{e(t)}catch(e){console.error(e)}}getAndStoreUspConsentFromCMP(){return new Promise(((e,t)=>{void 0===this.uspConsent?this.consentInformationRetriever.retrieveConsentInformation().then((t=>{this.storeUspConsent(t),e(t)})).catch((t=>{this.storeUspConsent(null),e(null)})):e(this.uspConsent)}))}};function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Pe{static createTestingInstance(e,t){return new Pe({tcfConsentManagement:e,uspConsentManagement:t,skipLocatorFrames:!0})}static getInstance(){return this.Instance||(this.Instance=new Pe),this.Instance}constructor(e){Ie(this,"tcfConsentManagement",void 0),Ie(this,"uspConsentManagement",void 0),Ie(this,"consentListeners",[]),Ie(this,"consent",!1),Ie(this,"onTCFConsentChange",((e,t)=>{this.hasTCFConsent()!=this.consent&&(this.consent=this.hasTCFConsent(),this.consentListeners.forEach((e=>this.fireConsentEventToListener(e))))})),Ie(this,"onUspConsentChange",(e=>{this.hasUspConsent()!=this.consent&&(this.consent=this.hasUspConsent(),this.consentListeners.forEach((e=>this.fireConsentEventToListener(e))))})),this.tcfConsentManagement=(null==e?void 0:e.tcfConsentManagement)??new ye,this.uspConsentManagement=(null==e?void 0:e.uspConsentManagement)??new Be,this.init(null==e?void 0:e.skipLocatorFrames)}async init(e){void 0!==e&&e||await he(),this.addTCFConsentListener(this.onTCFConsentChange),this.addUSPConsentListener(this.onUspConsentChange)}addTCFConsentListener(e){this.tcfConsentManagement.addTCFConsentListener(e)}hasTCFConsent(){return this.tcfConsentManagement.hasTCFConsent()}removeTCConsentListener(e){this.tcfConsentManagement.removeTCConsentListener(e)}getUspConsent(){return this.uspConsentManagement.getUspConsent()}addUSPConsentListener(e){this.uspConsentManagement.addUSPConsentListener(e)}removeUSPConsentListener(e){this.uspConsentManagement.removeUSPConsentListener(e)}hasUspConsent(){return this.uspConsentManagement.hasUspConsent()}addConsentListener(e){this.consentListeners.push(e),this.fireConsentEventToListener(e)}removeConsentListener(e){this.consentListeners=this.consentListeners.filter((t=>t!==e))}fireConsentEventToListener(e){try{e()}catch(e){console.error(e)}}getConsentInformation(e){const t=this.tcfConsentManagement.getConsentInformation(e);if(null!==t)return t;const n=this.uspConsentManagement.getConsentInformation(e);return null!==n?n:{countryCode:e,applicable:!1,consentInformationAvailable:!1}}}Ie(Pe,"Instance",void 0);const ke=Pe;function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ue{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ce(this,"_amountInCents",void 0),Ce(this,"_amountInUnits",void 0),Ce(this,"_currency",void 0),Ce(this,"compareTo",(e=>this.asCents(this._currency)-e.asCents(this._currency))),Ce(this,"isGt",(e=>this.compareTo(e)>0)),Ce(this,"isGte",(e=>this.compareTo(e)>=0)),Ce(this,"isLt",(e=>this.compareTo(e)<0)),Ce(this,"isLte",(e=>this.compareTo(e)<=0)),Ce(this,"isEq",(e=>0===this.compareTo(e))),Ce(this,"isGreaterThanZero",(()=>this._amountInCents>0)),Ce(this,"createCopyWithAdjustedAmount",(e=>new Ue(e(this._amountInCents),this._currency,!0))),this._currency=t,this._amountInCents=Ee(n,!0)(e),this._amountInUnits=Ee(n,!1)(e)}get currency(){return this._currency}asUnits(e){return ze(this._currency,e)(this._amountInUnits)}asCents(e){return ze(this._currency,e)(this._amountInCents)}}function Te(e){return new Ue(0,e??"EUR",!1)}function xe(e,t){if(e.length<=0)return t;if(1===e.length)return e[0];const n=[...e];return n.sort(Oe((e=>e),"HIGH_TO_LOW")),n[0]}function ze(e,t){switch(e){case"EUR":switch(t){case"EUR":return e=>e;case"USD":return Fe}break;case"USD":switch(t){case"EUR":return qe;case"USD":return e=>e}}}function Ee(e,t){return e===t?e=>e:e?_e:Re}function Re(e){return 100*e}function _e(e){return e/100}function Fe(e){return e/b()}function qe(e){return e*b()}function Oe(e,t){let n;switch(t){case"LOW_TO_HIGH":n=1;break;case"HIGH_TO_LOW":n=-1}return(t,i)=>n*e(t).compareTo(e(i))}const je=JSON.parse('{"T":{"K":[{"max":300,"increment":1,"cpms":{"1a5ue4g":1,"sekdmo":2,"1rx4em8":3,"1rncw0":4,"11a7dvk":5,"jixdds":6,"1j1hedc":7,"f33v9c":8,"1elnw8w":9,"wudvr4":10,"1wcxwqo":11,"67gv0g":12,"15q0w00":13,"nyqvi8":14,"1nhawhs":15,"cv7474":16,"1cdr56o":17,"umh4ow":18,"1u515og":19,"3zk3y8":20,"13i44xs":21,"lqu4g0":22,"1l9e5fk":23,"hb0mbk":24,"1gtknb4":25,"z2amtc":26,"1ykunsw":27,"8fdm2o":28,"17xxn28":29,"q6nmkg":30,"1pp7nk0":31,"9jbzls":32,"191w0lc":33,"ram03k":34,"1qt6134":35,"nozcw":36,"10690cg":37,"ieyzuo":38,"1hxj0u8":39,"dz5hq8":40,"1dhpips":41,"vqfi80":42,"1v8zj7k":43,"53ihhc":44,"14m2igw":45,"mushz4":46,"1mdciyo":47,"br8qo0":48,"1b9srnk":49,"tiir5s":50,"1t12s5c":51,"2vlqf4":52,"12e5reo":53,"kmvqww":54,"1k5frwg":55,"g728sg":56,"1fpm9s0":57,"xyc9a8":58,"1xgwa9s":59,"7bf8jk":60,"16tz9j4":61,"p2p91c":62,"1ol9a0w":63,"a3b6dc":64,"19lv7cw":65,"rul6v4":66,"1rd57uo":67,"17o64g":68,"10q8740":69,"iyy6m8":70,"1ihi7ls":71,"ej4ohs":72,"1e1ophc":73,"waeozk":74,"1vsypz4":75,"5nho8w":76,"1561p8g":77,"neroqo":78,"1mxbpq8":79,"cb7xfk":80,"1btryf4":81,"u2hxxc":82,"1tl1yww":83,"3fkx6o":84,"12y4y68":85,"l6uxog":86,"1kpeyo0":87,"gr1fk0":88,"1g9lgjk":89,"yibg1s":90,"1y0vh1c":91,"7vefb4":92,"17dygao":93,"pmofsw":94,"1p58gsg":95,"8zcsu8":96,"18hwtts":97,"qqmtc0":98,"1q96ubk":99,"3pslc":100,"zm9tkw":101,"huzt34":102,"1hdju2o":103,"df6ayo":104,"1cxqby8":105,"v6gbgg":106,"1up0cg0":107,"4jjaps":108,"1423bpc":109,"matb7k":110,"1ltdc74":111,"b79jwg":112,"1aptkw0":113,"syjke8":114,"1sh3lds":115,"2bmjnk":116,"11u6kn4":117,"k2wk5c":118,"1jlgl4w":119,"fn320w":120,"1f5n30g":121,"xed2io":122,"1wwx3i8":123,"6rg1s0":124,"16a02rk":125,"oiq29s":126,"1o1a39c":127,"ax9yio":128,"1aftzi8":129,"sojz0g":130,"1s74000":131,"21my9s":132,"11k6z9c":133,"jswyrk":134,"1jbgzr4":135,"fd3gn4":136,"1evnhmo":137,"x4dh4w":138,"1wmxi4g":139,"6hgge8":140,"1600hds":141,"o8qgw0":142,"1nrahvk":143,"d56pkw":144,"1cnqqkg":145,"uwgq2o":146,"1uf0r28":147,"49jpc0":148,"13s3qbk":149,"m0tpts":150,"1ljdqtc":151,"hl07pc":152,"1h3k8ow":153,"zca874":154,"1yuu96o":155,"8pd7gg":156,"187x8g0":157,"qgn7y8":158,"1pz78xs":159,"9tbkzk":160,"19bvlz4":161,"rkllhc":162,"1r35mgw":163,"xokqo":164,"10g8lq8":165,"ioyl8g":166,"1i7im80":167,"e95340":168,"1drp43k":169,"w0f3ls":170,"1viz4lc":171,"5di2v4":172,"14w23uo":173,"n4s3cw":174,"1mnc4cg":175,"c18c1s":176,"1bjsd1c":177,"tsicjk":178,"1tb2dj4":179,"35lbsw":180,"12o5csg":181,"kwvcao":182,"1kffda8":183,"gh1u68":184,"1fzlv5s":185,"y8buo0":186,"1xqvvnk":187,"7letxc":188,"173yuww":189,"pcouf4":190,"1ov8veo":191,"adarr4":192,"19vusqo":193,"s4ks8w":194,"1rn4t8g":195,"1hnri8":196,"1107shs":197,"j8xs00":198,"1irhszk":199,"et49vk":200,"1eboav4":201,"wkeadc":202,"1w2ybcw":203,"5xh9mo":204,"15g1am8":205,"nora4g":206,"1n7bb40":207,"cl7itc":208,"1c3rjsw":209,"uchjb4":210,"1tv1kao":211,"3pkikg":212,"1384jk0":213,"lguj28":214,"1kzek1s":215,"h110xs":216,"1gjl1xc":217,"ysb1fk":218,"1yav2f4":219,"85e0ow":220,"17ny1og":221,"pwo16o":222,"1pf8268":223,"99ce80":224,"18rwf7k":225,"r0meps":226,"1qj6fpc":227,"dpdz4":228,"zw9eyo":229,"i4zegw":230,"1hnjfgg":231,"dp5wcg":232,"1d7pxc0":233,"vgfwu8":234,"1uyzxts":235,"4tiw3k":236,"14c2x34":237,"mkswlc":238,"1m3cxkw":239,"bh95a8":240,"1azt69s":241,"t8j5s0":242,"1sr36rk":243,"2lm51c":244,"124660w":245,"kcw5j4":246,"1jvg6io":247,"fx2neo":248,"1ffmoe8":249,"xocnwg":250,"1x6wow0":251,"71fn5s":252,"16jzo5c":253,"ospnnk":254,"1ob9on4":255,"asa5ts":256,"1aau6tc":257,"sjk6bk":258,"1s247b4":259,"1wn5kw":260,"11f76kg":261,"jnx62o":262,"1j6h728":263,"f83ny8":264,"1eqnoxs":265,"wzdog0":266,"1whxpfk":267,"6cgnpc":268,"15v0oow":269,"o3qo74":270,"1nmap6o":271,"d06ww0":272,"1ciqxvk":273,"urgxds":274,"1ua0ydc":275,"44jwn4":276,"13n3xmo":277,"lvtx4w":278,"1ledy4g":279,"hg0f0g":280,"1gykg00":281,"z7afi8":282,"1ypughs":283,"8kderk":284,"182xfr4":285,"qbnf9c":286,"1pu7g8w":287,"9obsao":288,"196vta8":289,"rflssg":290,"1qy5ts0":291,"sos1s":292,"10b8t1c":293,"ijysjk":294,"1i2itj4":295,"e45af4":296,"1dmpbeo":297,"vvfaww":298,"1vdzbwg":299,"58ia68":300}},{"max":800,"increment":5,"cpms":{"1beskcg":305,"krvjls":310,"1xlw2yo":315,"a8az28":320,"10v7zsw":325,"wfehog":330,"1n2bif4":335,"3kkpvk":340,"1gel98g":345,"pro8hs":350,"1qe6n0g":355,"dk63nk":360,"14734e8":365,"t3jd34":370,"1jqgdts":375,"6wfugw":380,"1akts74":385,"jxwrgg":390,"1wrxatc":395,"da6i9s":400,"13x3j0g":405,"zha0w0":410,"1q471mo":415,"12odfk":420,"1dwowsg":425,"n9rw1s":430,"1tg2680":435,"gm1mv4":440,"178ynls":445,"s9kkxs":450,"1iwhlog":455,"62h2bk":460,"1c8rchs":465,"llubr4":470,"1yfuv40":475,"9ec6ww":480,"10197nk":485,"vlfpj4":490,"1m8cq9s":495,"2qlxq8":500,"1fkmh34":505,"oxpgcg":510,"1rumi9s":515,"f0lyww":520,"15niznk":525,"ujz8cg":530,"1l6w934":535,"8cvpq8":540,"18ze48w":545,"ich3i8":550,"1v6hmv4":555,"boqubk":560,"12bnv28":565,"xvucxs":570,"1oirdog":575,"1569s0":580,"1dz6t4w":585,"nc9se8":590,"1tik2kg":595,"gojj7k":600,"17bgjy8":605,"qo4wzk":610,"1hb1xq8":615,"4h1edc":620,"1anbojk":625,"k0ensw":630,"1wuf75s":635,"aus268":640,"11hp2ww":645,"x1vksg":650,"1noslj4":655,"471szk":660,"1h12ccg":665,"qe5bls":670,"1r0nq4g":675,"e6n6rk":680,"14tk7i8":685,"tq0g74":690,"1kcxgxs":695,"7iwxkw":700,"19tcwe8":705,"j6fvnk":710,"1w0gf0g":715,"cipmgw":720,"135mn7k":725,"ypt534":730,"1pcq5ts":735,"b7hmo":740,"1d580zk":745,"mib08w":750,"1solaf4":755,"fukr28":760,"16hhrsw":765,"sh29z4":770,"1j3zaps":775,"69yrcw":780,"1cg91j4":785,"ltc0sg":790,"1ynck5c":795,"9ltvy8":800}},{"max":2000,"increment":50,"cpms":{"u4zu9s":850,"244um8":900,"kzd8n4":950,"drnsow":1000,"z3jkzk":1050,"5oqmf4":1100,"ojz0g0":1150,"c2ha80":1200,"r1vcw0":1250,"45sutc":1300,"j56xhc":1350,"ftbsw0":1400,"w6nugw":1450,"8bmrk0":1500,"nxhxc0":1550,"a22874":1600,"sxam80":1650,"wfmkg":1700,"lflkw0":1750,"f6ups0":1800,"y233sw":1850,"4na58g":1900,"qke2gw":1950,"coydc0":2000}},{"max":3500,"increment":100,"cpms":{"2uz9c0":2100,"hkdqm8":2200,"70t62o":2300,"93q4g0":2400,"1m1340":2500,"dw14ao":2600,"6ec2yo":2700,"be4ruo":2800,"3hgcg0":2900,"gix9fk":3000,"8g035s":3100,"axwfls":3200,"ebv28":3300,"eoqy9s":3400,"5j4cn4":3500}}]},"L":{"K":[{"max":2000,"increment":25,"cpms":{"v_1gtknb4":25,"v_tiir5s":50,"v_1vsypz4":75,"v_3pslc":100,"v_16a02rk":125,"v_m0tpts":150,"v_1mnc4cg":175,"v_et49vk":200,"v_18rwf7k":225,"v_xocnwg":250,"v_1ua0ydc":275,"v_58ia68":300,"v_10v7zsw":325,"v_pro8hs":350,"v_1jqgdts":375,"v_da6i9s":400,"v_1dwowsg":425,"v_s9kkxs":450,"v_1yfuv40":475,"v_2qlxq8":500,"v_15niznk":525,"v_ich3i8":550,"v_1oirdog":575,"v_gojj7k":600,"v_1anbojk":625,"v_x1vksg":650,"v_1r0nq4g":675,"v_7iwxkw":700,"v_135mn7k":725,"v_mib08w":750,"v_1j3zaps":775,"v_9ltvy8":800,"v_1fs464g":825,"v_u4zu9s":850,"v_1uri8sg":875,"v_244um8":900,"v_18af4sg":925,"v_kzd8n4":950,"v_1n9t7gg":975,"v_drnsow":1000,"v_1a73cao":1025,"v_z3jkzk":1050,"v_1t2bqbk":1075,"v_5oqmf4":1100,"v_znirr4":1125,"v_ojz0g0":1150,"v_1lkmozk":1175,"v_c2ha80":1200,"v_1ecx91c":1225,"v_r1vcw0":1250,"v_1x85n28":1275,"v_45sutc":1300,"v_14sb9c0":1325,"v_j56xhc":1350,"v_1pbh7nk":1375,"v_ftbsw0":1400,"v_1ctzhfk":1425,"v_w6nugw":1450,"v_1rtdk3k":1475,"v_8bmrk0":1500,"v_12aeww0":1525,"v_nxhxc0":1550,"v_1hwa2o0":1575,"v_a22874":1600,"v_1g8cidc":1625,"v_sxam80":1650,"v_1wlojy8":1675,"v_wfmkg":1700,"v_172pwqo":1725,"v_lflkw0":1750,"v_1m23zeo":1775,"v_f6ups0":1800,"v_195mv40":1825,"v_y233sw":1850,"v_1tostfk":1875,"v_4na58g":1900,"v_11nxts0":1925,"v_qke2gw":1950,"v_1kj67sw":1975,"v_coydc0":2000}},{"max":3000,"increment":50,"cpms":{"v_sdxwjk":2050,"v_2uz9c0":2100,"v_hudc00":2150,"v_hkdqm8":2200,"v_wjrta8":2250,"v_70t62o":2300,"v_mz5tkw":2350,"v_93q4g0":2400,"v_v0u1og":2450,"v_1m1340":2500,"v_kh9h4w":2550,"v_dw14ao":2600,"v_yf72m8":2650,"v_6ec2yo":2700,"v_p9kgzk":2750,"v_be4ruo":2800,"v_rchfcw":2850,"v_3hgcg0":2900,"v_juse0w":2950,"v_gix9fk":3000}},{"max":5000,"increment":100,"cpms":{"v_8g035s":3100,"v_axwfls":3200,"v_ebv28":3300,"v_eoqy9s":3400,"v_5j4cn4":3500,"v_ctboxs":3600,"v_29r4e8":3700,"v_gz5log":3800,"v_7ejlz4":3900,"v_9wfyf4":4000,"v_1rc4cg":4100,"v_dev2f4":4200,"v_5x6134":4300,"v_bvxatc":4400,"v_4e89hc":4500,"v_g1r7k0":4600,"v_7slaf4":4700,"v_aahmv4":4800,"v_pvn5s":4900,"v_ffa4g0":5000}}]}}'),Le=je.T.K,De=je.L.K,Me=Ye(Le,"USD",!0),Ne=Ye(De,"USD",!0);function Ve(e,t){return function(e,t){const n=Ze(e,t),i=Qe(e,t);if(i.isEq(e))return e;return new Ue((t.cents?i.asCents(t.currency):i.asUnits(t.currency))+n,t.currency,t.cents)}(e,t?Ne:Me)}function Ge(e){const t=e.asCents("USD");return{currency:"USD",value:Math.floor(t)}}function $e(e,t){return e.cpm}function We(e){return e.createCopyWithAdjustedAmount((e=>Math.round(e)))}function He(e){return""===e.amzniid&&"2"===e.amznbid&&"2"===e.amznp&&"0x0"===e.amznsz}const Ke=function(e,n){const{amznbid:i}=e,s=function(e){for(const t of Le){const n=t.cpms[e];if(void 0!==n)return new Ue(n,"USD",!0)}for(const t of De){const n=t.cpms[e];if(void 0!==n)return new Ue(n,"USD",!0)}return t.warn(`[apstag] Received an amazon bid with an encoded cpm (${e}) which is unknown. Will pretend the cpm is 0 for the bid`),new Ue(0,"USD",!0)}(i);return We(s.createCopyWithAdjustedAmount((e=>e*(1-n))))};function Ye(e,t,n){const i=e.filter((e=>e.max>0)).sort(((e,t)=>e.max-t.max)),s=[];for(let e=0;e<i.length;e++){const r=i[e],o=0===e?0:i[e-1].max,a=r.max;for(let e=o;e<a;){let i=e+r.increment;n||(i=We(new Ue(i,t,n)).asUnits(t)),s.push({min:e,max:Math.min(i,a),increment:r.increment}),e=i}}return{buckets:s,currency:t,cents:n}}function Ze(e,t){for(let n=0;n<t.buckets.length;n++){const i=t.buckets[n];if(e.isLt(new Ue(i.max,t.currency,t.cents)))return i.increment}return t.buckets[t.buckets.length-1].increment}function Qe(e,t){const n=new Ue(Ze(e,t),t.currency,t.cents).asCents(e.currency),i=Math.floor(e.asCents(e.currency));return new Ue(i-i%n,e.currency,!0)}const Je=[{max:10,increment:.01},{max:50,increment:.5},{max:100,increment:1}],Xe=Ye(Je,"EUR",!1),et=[{max:20,increment:.05},{max:50,increment:.1},{max:100,increment:1}],tt=Ye(et,"EUR",!1);function nt(e,t){return n=>({precision:2,max:new Ue(n.max,e,t).asUnits("EUR"),increment:new Ue(n.increment,e,t).asUnits("EUR")})}const it=Je.map(nt(Xe.currency,Xe.cents)),st=et.map(nt(tt.currency,tt.cents));function rt(e){const{cpm:t,...n}=e;return{...n,type:"PrebidBid",cpm:new Ue(t,"EUR",!1)}}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class at{static getInstance(){return this.instance||(this.instance=new at),this.instance}constructor(){ot(this,"blocklist",null),ot(this,"loadingPromise",null)}async filterBids(e,n){await this.loadBlocklist(),this.blocklist&&n&&Object.entries(n).forEach((n=>{let[i,{bids:s}]=n;s.forEach((n=>{this.isBidBlocked(n)&&(t.debug("blocking bid",n),e.markWinningBidAsUsed({adId:n.adId}))}))}))}isDomainBlocked(e){if(!this.blocklist)return!1;const{names:t,domains:n}=this.blocklist,i=e.split(".");if(n.some((e=>{if(i.length<e.length)return!1;const t=i.length-e.length;return e.every(((e,n)=>i[n+t]===e))})))return!0;return t.some((e=>!(i.length<e.length)&&e.every(((e,t)=>i[t]===e))))}loadBlocklist(){return this.blocklist?Promise.resolve():(this.loadingPromise||(this.loadingPromise=new Promise((e=>{o.e(698).then(o.t.bind(o,5698,19)).then((t=>{const{names:n,domains:i}=t.default;this.blocklist={names:n.map((e=>e.split("."))),domains:i.map((e=>e.split(".")))},this.loadingPromise=null,e()})).catch((n=>{t.error("error loading blocklist",n),this.loadingPromise=null,e()}))}))),this.loadingPromise)}isBidBlocked(e){const{advertiserDomains:t}=e.meta||{};return!!t&&t.some((e=>this.isDomainBlocked(e)))}}ot(at,"instance",void 0);const dt=at;function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ut{constructor(e){ct(this,"adserverRequestSent",void 0),ct(this,"state",void 0),ct(this,"auctioneers",void 0),this.adserverRequestSent=!1,this.auctioneers=e,this.state=e.reduce(((e,t)=>Object.assign({},e,{[t]:null})),{})}setAuctioneerFinished(t){this.auctioneers.indexOf(t)<0&&(e.warn(`[RequestManager] Unexpected auctioneer ${t}`),this.auctioneers.push(t)),this.state[t]=Date.now()}haveBiddersFinished(){return this.auctioneers.every((e=>!!this.state[e]))}}let lt,ht,pt,gt,mt,ft,bt;!function(e){e[e.VAST1=1]="VAST1",e[e.VAST2=2]="VAST2",e[e.VAST3=3]="VAST3",e[e.VAST1Wrapper=4]="VAST1Wrapper",e[e.VAST2Wrapper=5]="VAST2Wrapper",e[e.VAST3Wrapper=6]="VAST3Wrapper",e[e.VAST4=7]="VAST4",e[e.VAST4Wrapper=8]="VAST4Wrapper",e[e.DAAST1=9]="DAAST1",e[e.DAAST1Wrapper=10]="DAAST1Wrapper",e[e.VAST4_1=11]="VAST4_1",e[e.VAST4_1Wrapper=12]="VAST4_1Wrapper",e[e.VAST4_2=13]="VAST4_2",e[e.VAST4_2Wrapper=14]="VAST4_2Wrapper"}(lt||(lt={})),function(e){e[e.VPAID1=1]="VPAID1",e[e.VPAID2=2]="VPAID2",e[e.MRAID1=3]="MRAID1",e[e.ORMAA=4]="ORMAA",e[e.MRAID2=5]="MRAID2",e[e.MRAID3=6]="MRAID3",e[e.OMID_1_0=7]="OMID_1_0",e[e.SIMID_1_0=8]="SIMID_1_0",e[e.SIMID_1_1=9]="SIMID_1_1"}(ht||(ht={})),function(e){e[e.INSTREAM=1]="INSTREAM",e[e.OUTSTREAM=2]="OUTSTREAM"}(pt||(pt={})),function(e){e[e.INSTREAM=1]="INSTREAM",e[e.INTERSTITIAL=5]="INTERSTITIAL"}(gt||(gt={})),function(e){e[e.INSTREAM=1]="INSTREAM",e[e.INTERSTITIAL=3]="INTERSTITIAL"}(mt||(mt={})),function(e){e[e.INSTREAM=1]="INSTREAM"}(ft||(ft={})),function(e){e[e.CLICK_WITH_SOUND=3]="CLICK_WITH_SOUND"}(bt||(bt={}));class vt{constructor(e,t){var n,i,s;this.code=e,s=void 0,(i="config")in(n=this)?Object.defineProperty(n,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[i]=s;const{rules:r,...o}=c.getBidderConfig(e)||{};this.config={...{cost:0,discrepancy:0,...o},...t},this.logConfig(this.config)}setBidding(e,n,i,s){const r=i||this.defaultConfig(),o=this.getBidderSettings(r,n);this.isBidderEnabledForUnit(n,o,s)?(i||t.warn(`[${this.code}] missing request unit config, bravely continuing with default config`),this.checkSettings(o,n),this.createBidsForUnit(e,n,o,s)):t.debug(`[${this.code}] disabled for unit ${n.code()}`)}isPrebidBidder(){return!1}getConfig(){return{...this.config}}checkVideoSettings(e,t){}checkBannerSettings(e,t){}checkSettings(e,t){const{cost:n,discrepancy:i}=e;this.warnIfNotSet("cost",n),this.warnIfNotSet("discrepancy",i),t.checkBidderSettings(e,this)}getBidderSettings(e,t){return Object.assign({},this.config,e)}warn(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];t.warn(`[${this.code}Bidder] ${e}`,...i)}warnIfNotSet(e,t){null!=t&&""!==t||this.warnWrongVariable(e,t)}warnWrongVariable(e,t){this.warn(`${e} incorrectly set`,t)}isNumber(e){return"number"==typeof e&&!isNaN(e)}isBidderEnabledForUnit(e,n,i){const{enabled:s}=n;return s?c.isBidderEnabledForSession(this.code,i.clientInfo,e.isBanner()?"banner":"video"):(t.debug(`bidder ${this.code} not enabled because of ads request config`),!1)}defaultConfig(){return{bidder:this.code}}logConfig(e){t.debug(`[${this.code}] ${JSON.stringify(e)}`)}}function yt(e){return"number"==typeof e?()=>e:e}function wt(e){return e.asUnits("EUR")}const St=Ye([{max:2,increment:.01},{max:10,increment:.05},{max:20,increment:.1},{max:50,increment:1}],"EUR",!1),At=new Ue(St.buckets[St.buckets.length-1].max,St.currency,St.cents);function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const It=class{constructor(e){Bt(this,"impressionKey","impression_number"),Bt(this,"priceFloorKey","pf"),Bt(this,"unit",void 0),Bt(this,"pageIdentifier",void 0),Bt(this,"prebidPriceFloor",void 0),Bt(this,"googlePriceFloor",void 0),Bt(this,"hasAdsense",void 0),Bt(this,"hasAdsenseRendered",void 0),Bt(this,"prebidBids",void 0),Bt(this,"amazonDiscrepancy",void 0),Bt(this,"apstagSlotIds",[]),this.hasAdsense=!1,this.hasAdsenseRendered=!1,this.prebidPriceFloor=null,this.googlePriceFloor=null,this.prebidBids=[],this.amazonDiscrepancy=0,this.pageIdentifier=e}setAdsense(){this.hasAdsense=!0}hasAdsenseBid(){return this.hasAdsense}setAdsenseRendered(){this.hasAdsenseRendered=!0}hasAdsenseBidRendered(){return this.hasAdsense&&this.hasAdsenseRendered}resetPriceFloorsAndBids(){this.prebidPriceFloor=null,this.googlePriceFloor=null,this.prebidBids=[]}shouldRenderBid(e){const t=this.currentWinningPrebidBid(),n=this.getAmazonBid();return this.applyFilterFn(this.prebidBidResponseToBidInfo(t),e)||this.applyFilterFn(this.amazonBidResponseToBidInfo(n),e)}applyFilterFn(e,t){if(!t)return!0;if(!e)return!1;try{return t(e)}catch(e){}return!0}addPrebidBid(e){this.prebidBids.push(e)}getBidsForPrebid(){return this.prebidBids}getPrebidUnits(){if(0===this.prebidBids.length)return[];return[this.toPrebidUnit()]}toPrebidUnit(){const e=this.getPrebidPriceFloorObject(this.getPrebidPriceFloor()),t=this.unit.code();return{...{...this.unit.requestUnit.adUnit,code:t},bids:this.getBidsForPrebid(),floors:e,ortb2Imp:{ext:{gpid:t+(void 0!==this.pageIdentifier&&ne.getInstance().getExperimentValueAsBoolean(Q)?`#${this.pageIdentifier}`:"")}}}}currentWinningPrebidBid(){const e=this.getHighestPrebidBidResponses();if(0===e.length)return null;const t=[...e];return t.sort(Oe((e=>e.cpm),"HIGH_TO_LOW")),t[0]}getHighestPrebidBidResponses(){const e=_();return void 0===e?[]:e.getHighestCpmBids(this.unit.code()).map(rt)}prebidBidResponseToBidInfo(e){return e?{cpm:wt(e.cpm),rendered:"rendered"===e.status,bidder:e.bidderCode,code:this.unit.code()}:null}getPrebidPriceFloor(){return this.prebidPriceFloor||(this.prebidPriceFloor=this.computePrebidPriceFloor()),this.prebidPriceFloor}computePrebidPriceFloor(){const e=this.getHighestWinningBid();return this.computeRequestPriceFloor(e?[e]:[])}getPrebidPriceFloorObject(e){if(null===e)return;const{currency:t,value:n}=function(e){return{currency:"USD",value:e.asUnits("EUR")}}(e);return{currency:t,default:n,schema:{fields:["mediaType"]},values:{[this.isBanner()?"banner":"video"]:n}}}processAmazonBid(e){const t=Ke(e,this.amazonDiscrepancy),n=(this.computeApsPriceFloor()||Te()).createCopyWithAdjustedAmount((e=>e*(1-this.amazonDiscrepancy)));return t.isGte(We(n))?{...e,cpm:t,type:"AmazonBid"}:null}setAmazonDiscrepancy(e){this.amazonDiscrepancy=e}computeApsPriceFloor(){const e=this.getHighestWinningBid(),n=this.computeRequestPriceFloor(e?[e]:[]);if(!n)return null;const i=n.createCopyWithAdjustedAmount((e=>e/(1-this.amazonDiscrepancy)));t.debug("Amazon pricefloor (EUR)",n.asUnits("EUR")),t.debug("Amazon pricefloor with discrepancy, before bucketing (USD)",i.asUnits("USD"));const s=Ve(i,this.isVideo());return t.debug("Amazon pricefloor after bucketing (USD)",s.asUnits("USD")),s}amazonBidResponseToBidInfo(e){return e?{cpm:wt(e.cpm),rendered:!1,bidder:"amazon",code:e.slotID}:null}getHighestWinningBid(){const e=this.getWinningBids();return 0===e.length?null:e.sort(Oe((e=>e.cpm),"HIGH_TO_LOW"))[0]}getWinningBids(){return[this.getAmazonBid(),this.currentWinningPrebidBid()].filter(I)}getGooglePriceFloor(){return this.googlePriceFloor&&this.googlePriceFloor.isGreaterThanZero()?this.googlePriceFloor:this.getPrebidPriceFloor()}calculateAndSetGooglePriceFloor(e){const t={current:this.googlePriceFloor??Te(),prebid:Te(),amazon:Te()},n=e([this.currentWinningPrebidBid()].filter(I));if(n&&(t.prebid=Qe(n,this.getPrebidPriceBuckets())),ne.getInstance().getExperimentValueAsBoolean(Y)){const n=e([this.getAmazonBid()].filter(I));n&&(t.amazon=n)}this.googlePriceFloor=xe([t.current,t.prebid,t.amazon],Te())}priceFloorTargeting(e){return function(e){let t=Qe(e,St);return t.isGte(At)&&(t=At),t.asUnits("EUR").toFixed(2)}(e)}computeRequestPriceFloor(e){if(this.unit.requestUnit.noPriceFloor||this.unit.requestOptions.noPriceFloor)return null;const t={bids:e.map((e=>{switch(e.type){case"AmazonBid":return this.amazonBidResponseToBidInfo(e);case"PrebidBid":return this.prebidBidResponseToBidInfo(e)}})).filter(I)};return this.applyPriceFloorFunctions(t)}applyPriceFloorFunctions(e){const t=this.unit.requestUnit.priceFloor,n=this.unit.requestOptions.priceFloor,i=[A.advertising.priceFloor,n,t].filter(I).map(yt);if(0===i.length)return null;const s=i.reduce(((e,t)=>n=>t(n,e)),void 0),r=s(e);return null===r?null:new Ue(r,"EUR",!1)}};function Pt(e){const t=[],{video:n,native:i,banner:s}=e.mediaTypes;return I(n)&&I(n.playerSize)&&t.push(n.playerSize.slice()),i&&i.image&&t.push(...i.image.sizes.map((e=>e.slice()))),s&&t.push(...s.sizes.map((e=>e.slice()))),t}const kt=Object.values({appnexus:"138242044687",ix:"138241895930",pubmatic:"138241896683",rubicon:"138241885337",sharethrough:"138382194304",venatus:"138367023875",rise:"138427190788",stroeerCore:"138436849730",mediafuse:"138468109427",iionads:"138473836137",webads:"138474573619",goldbach:"138479636654",smilewanted:null,beintoo:"138499252194",seedtag:"138480188935",adbility:"138493637146",richaudience:"138498646392",mediasquare:"138502108936",ozone:null,connatix:"138516021795",invibes:null,ttd:"138516025707",alkimi:"138516789787"}).filter((e=>null!==e)),Ct=["138340379973","138340379976","138340320638","138340379970","138340320629","138340320635","138340379967","138340379961","138340379964","138340320632"];function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Tt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Ut(this,"disableFailingPrebidBidders",void 0),Ut(this,"disableFailingAmazonPartners",void 0),Ut(this,"allowedErrorsWithoutGettingBlacklisted",void 0),Ut(this,"disabledPrebidBidders",new Map),Ut(this,"disabledAmazonPartners",new Map),this.allowedErrorsWithoutGettingBlacklisted=n,this.disableFailingPrebidBidders=e,this.disableFailingAmazonPartners=t}getAdditionalGAMKeyValuePairs(){return{num_disabled_prebid:this.disableFailingPrebidBidders?`${this.disabledPrebidBidders.size}`:void 0,num_disabled_amazon:this.disableFailingAmazonPartners?`${this.disabledAmazonPartners.size}`:void 0}}isBidderBlacklisted(e){return this._isPrebidBidderCodeBlacklisted(e.code)}_isPrebidBidderCodeBlacklisted(e){const t=this.disabledPrebidBidders.get(e);return this.isBlacklisted(t)}isAmazonBidBlacklisted(e){const t=this.extractAmazonPartner(e);return void 0!==t&&this._isAmazonPartnerBlacklisted(t)}_isAmazonPartnerBlacklisted(e){const t=this.disabledAmazonPartners.get(e);return this.isBlacklisted(t)}isBlacklisted(e){return void 0!==e&&e>this.allowedErrorsWithoutGettingBlacklisted}asBlacklistedAmazonPartnerFilter(){return e=>!this.disabledAmazonPartners.has(e)}createVideoCallback(e,t){return n=>{const i=xt({prebid:void 0!==e.prebid?{adUnitCode:e.prebid.adUnitCode,bidderCode:e.prebid.bidderCode,cpm:(s=e.prebid,r=!0,Qe(s.cpm,r?tt:Xe))}:void 0,amazon:void 0!==e.amazon?{amzniid:e.amazon.amzniid,amznp:this.extractAmazonPartner(e.amazon),cpm:$e(e.amazon)}:void 0},{usedCreatives:n.creativeIds,error:n.forceMarkAsUsed??!1});var s,r;this._handleVideoUsageInformation(i,t)}}_handleVideoUsageInformation(e,t){e.prebid&&(e.prebid.addToBlacklist?this.handlePrebidBidError(e.prebid.adUnitCode,e.prebid.bidderCode):e.prebid.used&&(this.markPrebidBidAsUsed(e.prebid.adUnitCode),this.handlePrebidBidSuccess(e.prebid.bidderCode))),e.amazon&&(e.amazon.addToBlacklist?this.handleAmazonBidError(t.code,e.amazon.amzniid,e.amazon.amznp):e.amazon.used&&(this.markAmazonBidAsUsed(e.amazon.amzniid),this.handleAmazonBidSuccess(e.amazon.amznp)))}markPrebidBidAsUsed(e){try{t.debug("[CrazyAds] Marking winning Prebid video as used",e);const n=F();n.adUnits.find((t=>t.code===e))||t.error("[CrazyAds] Adunit not found for bid",e),n.markWinningBidAsUsed({adUnitCode:e})}catch(n){t.error(n,"[CrazyAds] Failed to mark winning video bid as used",e)}}markAmazonBidAsUsed(e){}handlePrebidBidSuccess(e){if(this.disableFailingPrebidBidders&&this.disabledPrebidBidders.has(e)){this.disabledPrebidBidders.delete(e)&&t.debug(`[CrazyAds] Resetting the error count for prebid bidder ${e} since the bidder served a successful ad`)}}handlePrebidBidError(e,n){if(this.disableFailingPrebidBidders){if(t.debug(`[CrazyAds] Incrementing the error count of prebid bidder ${n} for video ads since the ad threw an error on ad unit ${e}`),this.disabledPrebidBidders.set(n,(this.disabledPrebidBidders.get(n)??0)+1),this._isPrebidBidderCodeBlacklisted(n)){t.debug(`[CrazyAds] Disabling prebid bidder ${n} for video ads since it threw too many errors`),g.getInstance().sendDisableBidderEvent({bidder:n,unit:e});const i=F(),s=i.adUnits.filter((e=>void 0!==e.mediaTypes.video)).map((e=>e.code));for(const r of s){const s=i.getBidResponsesForAdUnitCode(r).bids;for(const o of s)o.bidderCode===n&&(t.debug(`[CrazyAds] Marking video bid of bidder ${o.bidderCode} as used on ad unit ${r} because the video failed on ad unit ${e}`),i.markWinningBidAsUsed({adUnitCode:r,adId:o.adId}))}}}else this.markPrebidBidAsUsed(e)}handleAmazonBidSuccess(e){if(void 0!==e){if(this.disableFailingAmazonPartners&&this.disabledAmazonPartners.has(e)){this.disabledAmazonPartners.delete(e)&&t.debug(`[CrazyAds] Resetting the error count for amazon partner ${e} since the partner served a successful ad`)}}else t.warn("[CrazyAds] Cannot reset the error count for amazon partner with successful video ad because the amazon partner is unknown")}handleAmazonBidError(e,n,i){void 0!==i?(this.disableFailingAmazonPartners&&(t.debug(`[CrazyAds] Incrementing the error count of amazon partner ${i} for video ads since the ad ${n} threw an error`),this.disabledAmazonPartners.set(i,(this.disabledAmazonPartners.get(i)??0)+1),this._isAmazonPartnerBlacklisted(i)&&(t.debug(`[CrazyAds] Disabling amazon partner ${i} for video ads since it threw too many errors`),g.getInstance().sendDisableBidderEvent({bidder:i,unit:e}))),t.debug(`[CrazyAds] Marking video bid ${n} of partner ${i} as used because there was an error`),this.markAmazonBidAsUsed(n)):t.warn("[CrazyAds] Cannot disable amazon partner with failing video ad because the amazon partner is unknown")}reset(){this.disabledAmazonPartners.clear(),this.disabledPrebidBidders.clear()}extractAmazonPartner(e){return e.amznp}}function xt(e,t){const n={prebid:void 0!==e.prebid?{adUnitCode:e.prebid.adUnitCode,bidderCode:e.prebid.bidderCode,used:!1,addToBlacklist:!1}:void 0,amazon:void 0!==e.amazon?{amzniid:e.amazon.amzniid,amznp:e.amazon.amznp,used:!1,addToBlacklist:!1}:void 0};let i;let s;if(void 0!==e.prebid&&t.usedCreatives.some((e=>kt.includes(e)))?(i="prebid",n.prebid&&(n.prebid.used=!0)):void 0!==e.amazon&&(e=>e.some((e=>Ct.includes(e))))(t.usedCreatives)?(i="amazon",n.amazon&&(n.amazon.used=!0)):i="unknown",void 0!==e.prebid&&void 0!==e.amazon){const t=e.prebid.cpm,n=e.amazon.cpm;s=t.isGt(n)?"prebid":n.isGt(t)?"amazon":"unknown"}else s=void 0!==e.prebid?"prebid":void 0!==e.amazon?"amazon":"unknown";let r="unknown";switch("unknown"!==s&&"unknown"!==i&&s!==i?r=s:t.error&&(r="unknown"!==i?i:s),r){case"prebid":void 0!==n.prebid&&(n.prebid.addToBlacklist=!0);break;case"amazon":void 0!==n.amazon&&(n.amazon.addToBlacklist=!0)}return n}const zt=new Tt(!0,!1);function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Rt=class extends It{constructor(e,t){super(t),Et(this,"unit",void 0),Et(this,"nonSkippableMaxAdDurationKey","max_ad_duration"),Et(this,"skippableMaxAdDurationKey","sdmax"),Et(this,"videoTypeKey","vpos"),Et(this,"descriptionUrlKey","description_url"),Et(this,"prebidBids",void 0),Et(this,"apstagSlots",[]),Et(this,"amazonBid",void 0),Et(this,"googleBid",void 0),this.unit=e,this.prebidBids=[],this.amazonBid=null}isBanner(){return!1}isVideo(){return!0}resetPriceFloorsAndBids(){super.resetPriceFloorsAndBids(),this.removeApstagSlots(),this.amazonBid=null}getPrebidUnits(){const{placements:e}=this.unit.requestUnit.video;e||t.error("[VideoUnit] should have placements");const n=[];return Object.keys(e).forEach((e=>{this.unit.setCurrentPlacement(e);const t=this.toPrebidUnit();n.push(t)})),this.unit.setCurrentPlacement(null),n}getBidsForPrebid(){return this.prebidBids.filter((e=>e.placement===this.unit.getCurrentPlacement())).map((e=>{let{placement:t,...n}=e;return n}))}getHighestPrebidBidResponses(){if(this.unit.getCurrentPlacement())return super.getHighestPrebidBidResponses();{const{placements:e}=this.unit.requestUnit.video,t=Object.keys(e).reduce(((e,t)=>{this.unit.setCurrentPlacement(t);const n=super.getHighestPrebidBidResponses();return e.concat(n)}),[]);return this.unit.setCurrentPlacement(null),t}}toPrebidUnit(){const e=super.toPrebidUnit(),{mediaTypes:t}=e,{placements:n}=this.unit.requestUnit.video,i=this.unit.videoType(),s=this.unit.openRTB(n[this.unit.getCurrentPlacement()],i,!1),r=t.video,o=Object.assign({},r||{},s),a=Object.assign({},t,{video:o});return{...e,mediaTypes:a}}getAmazonBid(){return this.amazonBid}setAmazonBid(e){const t=e.filter((e=>!zt.isAmazonBidBlacklisted(e)));if(0===t.length)return;const n=t.filter((e=>e.cpm.isGreaterThanZero()));if(0===n.length)return;const i=n.reduce(((e,t)=>e.cpm.isGte(t.cpm)?e:t),n[0]);i.cpm.isGreaterThanZero()&&(this.amazonBid&&!this.amazonBid.cpm.isLt(i.cpm)||(this.amazonBid=i))}getApstagSlots(){return this.apstagSlots}setApstagSlots(){this.apstagSlots.forEach((e=>{const t=this.computeApsPriceFloor();t&&(e.floor=Ge(t))}))}addApstagSlot(e){this.apstagSlotIds.push(e),this.apstagSlots.push({slotID:e,mediaType:"video",sizes:this.unit.getSizes()})}removeApstagSlots(){this.apstagSlots=[],this.apstagSlotIds=[]}getPrebidAmazonBids(){const e=this.getCurrentWinningPrebidBids(),t=this.getAmazonBid();return t?{amazon:t,prebid:e}:{prebid:e}}getCurrentWinningPrebidBids(){try{return this.getHighestPrebidBidResponses()}catch(e){return console.error(e),[]}}setGoogleVideoBid(e,t){var n;const i=t?"skippableMaxDuration":"nonSkippableMaxDuration",s=(null===(n=this.googleBid)||void 0===n?void 0:n[i])||-1,{maxDuration:r=-1,...o}=e,a=Math.max(s,r);this.googleBid={...this.googleBid,...o,...a>0&&{[i]:a}}}async buildUrlWithConsent(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await this.consentParams();return this.buildUrl(e,t,i,n)}highestPrebidBid(){const{placements:e}=this.unit.requestUnit.video,t=Object.keys(e).map((e=>{this.unit.setCurrentPlacement(e);return{bid:this.currentWinningPrebidBid(),placement:e}})),n=t.reduce(((e,t)=>{var n;return t.bid?null!==(n=e.bid)&&void 0!==n&&n.cpm&&e.bid.cpm.isGte(t.bid.cpm)?e:t:e}),t[0]);return this.unit.setCurrentPlacement(null),n}buildUrl(e,n,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{placement:r}=this.highestPrebidBid();this.unit.setCurrentPlacement(r);const o=this.unit.code(),a=(e.adUnits||[]).filter((e=>e.code===o));if(1!==a.length)throw new Error("[VideoUnit] Display video expected single unit");t.debug(`[VideoUnit] ${o} has highest bid`);const d=a[0],c={};Object.entries(s).forEach((e=>{let[t,n]=e;t&&n&&(c[t]=n)}));const u=this.getGooglePriceFloor(),l=u&&this.priceFloorTargeting(u);let h={};if(l){const e=parseFloat(l);h={pubf:Math.floor(1e6*e).toFixed(0)}}const p={iu:this.unit.requestUnit.slotId,ad_type:"video",tfcd:n.tfcd||0,trt:this.trt(),vad_type:"linear",plcmt:ft.INSTREAM,...i,...this.customUrlParams(),cust_params:{...c,...u&&{[this.priceFloorKey]:l},...h}};t.debug(`[VideoUnit] URL Params ${JSON.stringify(p)}`);const g=e.adServers.dfp.buildVideoUrl({adUnit:d,params:p});this.unit.setCurrentPlacement(null);const m=this.getAmazonBid();if(m){const e=new URL(g),t=`${e.searchParams.get("cust_params")}${m.qsParams}`;return e.searchParams.set("cust_params",t),e.toString()}return g}customUrlParams(){if(!this.unit.requestOptions.video||!this.unit.requestUnit.video)return{};if(!this.googleBid)return t.warn("[VideoUnit] Missing a google bid"),{};const e=this.unit.videoType(!0),{skippableMaxDuration:n,nonSkippableMaxDuration:i,descriptionUrl:s}=this.googleBid;return{...n&&{[this.skippableMaxAdDurationKey]:1e3*n},...i&&{[this.nonSkippableMaxAdDurationKey]:1e3*i},...e&&{[this.videoTypeKey]:this.videoTypeParam(e)},...s&&{[this.descriptionUrlKey]:s}}}videoTypeParam(e){switch(e){case"rewarded":case"preroll":return"preroll";case"midroll":return"midroll";default:return t.error(`[VideoUnit] Unexpected Video Type ${e}`),"preroll"}}trt(){return this.unit.requestOptions.trafficSource?"purchased"===this.unit.requestOptions.trafficSource?1:2:0}async consentParams(){var e;const t=me((null===(e=this.unit.requestOptions.clientInfo)||void 0===e?void 0:e.country)??null),n=await ke.getInstance().getUspConsent(),i=n?{us_privacy:n.uspString}:{};if(t){return{...ke.getInstance().hasTCFConsent()?{}:{npa:1},...i}}return{npa:0,...i}}getPrebidPriceBuckets(){return tt}};function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ft=class{constructor(e,t){this.requestUnit=e,this.requestOptions=t,_t(this,"numberOfRequests",void 0),_t(this,"numberOfImpressions",void 0),_t(this,"bids",void 0),_t(this,"houseAdWasRenderedInRowCounter",0),this.numberOfRequests=1,this.numberOfImpressions=0}addApstagSlot(e){this.bids.addApstagSlot(e.slotID)}getApstagSlots(){return this.bids.getApstagSlots()}setApstagSlots(){this.bids.setApstagSlots()}addPrebidBid(e){this.bids.addPrebidBid(e)}resetForRender(e,t){this.bids.resetPriceFloorsAndBids(),this.requestUnit=e,this.requestOptions=t}elementId(){return this.code()}code(){return this.requestUnit.adUnit.code}setBids(t,n,i){if(this.bids.hasAdsenseBid()){const t=n.map((e=>e.code));e.debug(`[AdUnit] ${this.code()} ignoring ${t.join(" ")} bids due to adsense`)}else n.forEach((e=>this.setBidderBid(t,e,i)))}getSizes(){return Pt(this.requestUnit.adUnit)}maxSize(){const e=this.getSizes(),t=e.map((e=>e[0])),n=e.map((e=>e[1]));return[Math.max(...t),Math.max(...n)]}shouldRenderBid(e){return this.bids.shouldRenderBid(e)?this:void 0}isBanner(){return!1}isVideo(){return!1}getNumberOfRequests(){return this.numberOfRequests}getNumberOfImpressions(){return this.numberOfImpressions}getHouseAdWasRenderedInRowCounter(){return this.houseAdWasRenderedInRowCounter}setBidderBid(e,t,n){const i=(this.requestUnit.bidders||[]).find((e=>e.bidder===t.code));i?t.setBidding(e,this,i,n):t.setBidding(e,this,null,n)}};function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e){return null!=e&&e.isVideo()}const jt=class extends Ft{constructor(e,t){super(e,t),qt(this,"bids",void 0),qt(this,"currentPlacement",null),this.bids=new Rt(this,t.pageIdentifier)}canRender(){return!0}getBids(){return this.bids}mediaType(){return this.requestUnit.adUnit.mediaTypes.video}isVideo(){return!0}videoType(e){const t=this.requestUnit.video.videoType;return e||"midroll"!==t?t:"preroll"}bidParamsForBidder(e,t,n){return e.customVideoBidParams(t,this,n)}addPrebidBid(e){const t={...e,placement:this.currentPlacement};super.addPrebidBid(t)}code(){const e=super.code();return this.currentPlacement?`${e}-${this.currentPlacement}`:e}getAllCodes(){return Object.keys(this.requestUnit.video.placements).map((e=>this.codeWithPlacement(e)))}getCurrentPlacement(){return this.currentPlacement}setCurrentPlacement(e){this.currentPlacement=e}setBidderBid(t,n,i){const{placements:s}=this.requestUnit.video,r=this.videoType();s||e.error("[VideoUnit] should have placements"),Object.keys(s).forEach((e=>{this.currentPlacement=e;const o=s[e],a=this.openRTB(o,r,"google"===n.code),d=(o.bidders||[]).find((e=>e.bidder===n.code));d?n.setBidding(t,this,d,{...i,openRTB:a}):n.setBidding(t,this,null,{...i,openRTB:a})})),this.currentPlacement=null}checkBidderSettings(e,t){return t.checkVideoSettings(e,this)}invokeCallback(t,n){const{video:i}=this.requestUnit,s=i&&i.callback||n;if(!s)return;const r=this.bids.getPrebidAmazonBids();try{const e=this.bids.highestPrebidBid(),n=e.bid?e.placement:null,i=this.code(),o=n?this.codeWithPlacement(n):null,a=this.getAdsVideoCallback({prebid:(null==e?void 0:e.bid)??void 0,amazon:r.amazon??void 0},{code:o??i}),d=[];if(void 0!==r.amazon){const e=r.amazon,t={cpm:wt(e.cpm),bidder:"amazon",requestTimestamp:Date.now(),amzniid:e.amzniid,amznp:e.amznp};d.push(t)}r.prebid.forEach((e=>{const t={cpm:wt(e.cpm),bidder:e.bidderCode,responseTimestamp:e.responseTimestamp};d.push(t)})),s(t,i,d,o,a)}catch(t){e.error(`[VideoUnit] ${this.code()}, err in invoking callback`)}}openRTB(e,t,n){const{skippable:i}=e,s=e.maxDuration,r=e.googleMaxDuration||s,o=n?r:s,a=this.getStartdelay(t),d={...this.baseOpenRTB(),minduration:1,startdelay:a,...void 0!==o?{maxduration:o||15}:{},...void 0!==i?{skip:i?1:0}:{}};return i&&(d.skipafter=5),d}codeWithPlacement(e){return`${super.code()}-${e}`}getStartdelay(e){return"midroll"===e?-1:0}baseOpenRTB(){return{context:"instream",protocols:[lt.VAST1,lt.VAST2,lt.VAST3,lt.VAST2Wrapper,lt.VAST3Wrapper,lt.VAST4,lt.VAST4Wrapper],api:[ht.OMID_1_0,ht.SIMID_1_0,ht.VPAID2,ht.SIMID_1_1],mimes:["video/mp4","video/webm","video/quicktime","video/ogg","application/javascript"],linearity:pt.INSTREAM,minbitrate:10,maxbitrate:1e4,placement:gt.INSTREAM,plcmt:mt.INSTREAM,playbackmethod:[bt.CLICK_WITH_SOUND]}}getAdsVideoCallback(e,t){return zt.createVideoCallback(e,t)}};class Lt extends vt{constructor(e,t){var n,i,s;super(e,t),this.code=e,s=e=>{const{cost:t,discrepancy:n}=this.config;return function(e,t,n){return new Ue(e,"USD",!1).asUnits("EUR")*(1-t)*(1-n)}(e,t,n)},(i="adjust")in(n=this)?Object.defineProperty(n,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[i]=s}isPrebidBidder(){return!0}getPrebidBidderSettings(){const e=Object.assign({},this.getAdjustment(),this.getCustomAdserverTargeting());return{[this.prebidCode()]:e}}getAdjustment(){return{bidCpmAdjustment:e=>this.adjust(e)}}getCustomAdserverTargeting(){return null}prebidCode(){return this.code}createBidsForUnit(e,t,n,i){const s=this.toBid(e,n,t,i);t.addPrebidBid(s)}checkSettings(e,t){super.checkSettings(e,t)}customBidParams(e,t,n){return t.bidParamsForBidder(this,e,n)}toBid(e,t,n,i){if(this.code!==t.bidder)throw new Error("[Bidder] wrong bidconfig");return{bidder:this.prebidCode(),params:this.bidParams(e,t,n,i)}}bidParams(e,n,i,s){const r=this.customBidParams(n,i,s);return t.debug(`[${this.code}] Bid Params:`,r),r}isBidderEnabledForUnit(e,n,i){const s=super.isBidderEnabledForUnit(e,n,i);return s&&Ot(e)&&zt.isBidderBlacklisted(this)?(t.debug(`bidder ${this.code} is on the blacklist for videos`),!1):s}}class Dt extends Lt{customBannerBidParams(e,t){return this.customUnitBidParams(e)}customVideoBidParams(e,t,n){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{tagId:n}=e;this.warnIfNotSet("tagId",n)}customUnitBidParams(e){const{tagId:t}=e;return{tagId:t}}}const Mt=class extends vt{createBidsForUnit(e,t,n){this.createBid(t,n)}createBid(e,n){const{slot:i,client:s}=n;if(!i)return void t.warn("[AdSense] missing slot");if(!s)return void t.error("[AdSense] missing client id");const r=e.code(),o=document.getElementById(r);if(!o)return void t.warn(`[AdSense] cannot find element ${r}`);const[a,d]=e.maxSize(),c=document.createElement("ins");c.setAttribute("class","adsbygoogle"),c.setAttribute("style",`display:inline-block;width:${a}px;height:${d}px`),c.setAttribute("data-ad-client",s),c.setAttribute("data-ad-slot",i),o.appendChild(c),e.getBids().setAdsense()}};class Nt extends vt{checkVideoSettings(e,t){super.checkVideoSettings(e,t);const{slotID:n}=e;this.warnIfNotSet("slotID",n)}createBidsForUnit(e,t,n,i){const{pubID:s,adServer:r,slotID:o,discrepancy:a}=n;e.setApstagConfig({pubID:s||"",adServer:r});const d=t.isVideo()?o:t.code();t.addApstagSlot({slotID:d||t.code()}),t.getBids().setAmazonDiscrepancy(a)}checkSettings(e,t){super.checkSettings(e,t);const{pubID:n,adServer:i}=e;this.warnIfNotSet("pubID",n),this.warnIfNotSet("adServer",i)}}class Vt extends Lt{customVideoBidParams(e,t,n){const i=this.customAdUnitParams(e,t.mediaType()),{maxduration:s,minduration:r,skip:o,api:a}=n.openRTB;return{...i,video:{maxduration:s,minduration:r,skippable:1===o,frameworks:a,context:"pre_roll"}}}customBannerBidParams(e,t){const n=t.mediaType();return this.customAdUnitParams(e,n)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:n}=e;this.warnIfNotSet("placementId",n)}customAdUnitParams(e,t){const{pos:n}=t,{placementId:i}=e;return{placementId:`${i}`,allowSmallerSizes:!0,supplyType:"web",position:1===n?"above":void 0}}}class Gt extends Lt{customVideoBidParams(e,t,n){const i=t.mediaType();return this.customAdUnitParams(e,i)}customBannerBidParams(e,t){const n=t.mediaType();return this.customAdUnitParams(e,n)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:n}=e;this.warnIfNotSet("placementId",n)}customAdUnitParams(e,t){const{pos:n}=t,{placementId:i}=e;return{placementId:`${i}`,allowSmallerSizes:!0,supplyType:"web",position:1===n?"above":void 0}}}class $t extends Lt{customVideoBidParams(e,t,n){const i=this.customAdUnitParams(e,t.mediaType()),{maxduration:s,minduration:r,skip:o,api:a}=n.openRTB;return{...i,video:{maxduration:s,minduration:r,skippable:1===o,frameworks:a,context:"pre_roll"}}}customBannerBidParams(e,t){const n=t.mediaType();return this.customAdUnitParams(e,n)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:n}=e;this.warnIfNotSet("placementId",n)}customAdUnitParams(e,t){const{pos:n}=t,{placementId:i}=e;return{placementId:`${i}`,allowSmallerSizes:!0,supplyType:"web",position:1===n?"above":void 0}}}const Wt=e=>{const t=[...e];return t.sort(Oe((e=>e.cpm),"HIGH_TO_LOW")),0===t.length?null:new Ue(t[0].cpm.asUnits("EUR")-.01,"EUR",!1)};class Ht extends vt{createBidsForUnit(e,t,n,i){if(t.getBids().calculateAndSetGooglePriceFloor(Wt),t.isVideo()){const e=t.getBids(),s=i.openRTB,{descriptionUrl:r}=n,{maxduration:o}=s,a=1===s.skip,d={descriptionUrl:r,maxDuration:o};e.setGoogleVideoBid(d,a)}}isBidderEnabledForUnit(e,t,n){const i=super.isBidderEnabledForUnit(e,t,n);return e.isVideo()?i:(i||this.warn("disabling googlebidder for banners is not supported"),!0)}checkSettings(e,t){if(super.checkSettings(e,t),t.isVideo()){const{descriptionUrl:t}=e;t||this.warnIfNotSet("descriptionUrl",t)}}}class Kt extends Lt{customVideoBidParams(e,t,n){return this.customUnitBidParams(e)}customBannerBidParams(e,t){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{host:n,adUnitId:i,adUnitType:s,publisherId:r}=e;this.warnIfNotSet("host",n),this.warnIfNotSet("publisherId",r),this.warnIfNotSet("adUnitId",i),this.warnIfNotSet("adUnitType",s)}checkBannerSettings(e,t){super.checkBannerSettings(e,t);const{adUnitType:n}=e;"banner"!==n&&this.warnWrongVariable("adUnitType",n)}checkVideoSettings(e,t){super.checkVideoSettings(e,t);const{adUnitType:n}=e;"video"!==n&&this.warnWrongVariable("adUnitType",n)}customUnitBidParams(e){const{host:t,adUnitId:n,adUnitType:i,publisherId:s}=e;return{host:t,publisherId:s,adUnitId:n,adUnitType:i}}}class Yt extends Lt{customVideoBidParams(e,t,n){const i=this.customAdUnitParams(e,n),{openRTB:s}=n,r=(null==s?void 0:s.minduration)??4,o=(null==s?void 0:s.maxduration)??(null!=s&&s.skip?60:15),a=1===(null==s?void 0:s.skip)?15:void 0;return{...i,video:{...s,minduration:r,maxduration:o,skipmin:a}}}customBannerBidParams(e,t,n){return this.customAdUnitParams(e,n)}checkVideoSettings(e,t){super.checkVideoSettings(e,t)}createBidsForUnit(e,t,n,i){const{sizes:s}=n;s.forEach((s=>{const r=Object.assign({},n,{size:s.slice()}),o=this.toBid(e,r,t,i);t.addPrebidBid(o)}))}customAdUnitParams(e,t){const{siteId:n,size:i}=e;return this.warnIfNotSet("size",i),{siteId:`${n}`,size:i,pageUrl:t.pageUrl}}checkSettings(e,t){super.checkSettings(e,t);const{siteId:n}=e;this.warnIfNotSet("siteId",n)}}class Zt extends Lt{customVideoBidParams(e,t,n){return this.customUnitBidParams(e)}customBannerBidParams(e,t,n){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:n}=e;this.warnIfNotSet("placementId",n)}customUnitBidParams(e){const{placementId:t}=e;return{placementId:t}}}class Qt extends Lt{customBannerBidParams(e,t,n){return this.customUnitBidParams(e)}customVideoBidParams(e,t,n){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{owner:n,code:i}=e;this.warnIfNotSet("owner",n),this.warnIfNotSet("code",i)}customUnitBidParams(e){const{owner:t,code:n}=e;return{owner:t,code:n}}}class Jt extends Lt{customVideoBidParams(e,t,n){return{}}checkVideoSettings(e,t){super.checkVideoSettings(e,t),this.warn("should be disabled for videos")}customBannerBidParams(e,t){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{siteId:n,publisherId:i,placementId:s}=e;this.warnIfNotSet("siteId",n),this.warnIfNotSet("publisherId",i),this.warnIfNotSet("placementId",s)}customUnitBidParams(e){const{siteId:t,publisherId:n,placementId:i}=e;return{siteId:t,publisherId:n,placementId:i}}}class Xt extends Lt{customBannerBidParams(e,t,n){return this.customUnitBidParams(e,n)}customVideoBidParams(e,t,n){const{api:i,protocols:s,mimes:r,skip:o,...a}=n.openRTB;return{...this.customUnitBidParams(e,n),video:{...a,skip:o??0}}}createBidsForUnit(e,t,n,i){const{adSlot:s,addSizes:r=!0}=n,o=t.getSizes();return r&&s?void o.forEach((r=>{const[o,a]=r,d=`${s}@${o}x${a}`,c=Object.assign({},n,{adSlot:d}),u=this.toBid(e,c,t,i);t.addPrebidBid(u)})):super.createBidsForUnit(e,t,n,i)}customUnitBidParams(e,t){const{pageUrl:n}=t,{publisherId:i,adSlot:s}=e;return s?{publisherId:i||"",adSlot:s,kadpageurl:n}:{publisherId:i||"",kadpageurl:n}}checkSettings(e,t){super.checkSettings(e,t);const{publisherId:n}=e;this.warnIfNotSet("publisherId",n)}}class en extends Lt{customBannerBidParams(e,t){return this.customUnitBidParams(e)}customVideoBidParams(e,t,n){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{pid:n,supplyType:i}=e;this.warnIfNotSet("pid",n),this.warnIfNotSet("supplyType",i)}customUnitBidParams(e){const{pid:t,supplyType:n}=e;return{pid:t,supplyType:n}}}class tn extends Lt{customBannerBidParams(e,t){return this.customUnitBidParams(e)}customVideoBidParams(e,t,n){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{org:n,placementId:i}=e;this.warnIfNotSet("org",n),this.warnIfNotSet("placementId",i)}customUnitBidParams(e){const{org:t,placementId:n,testMode:i}=e;return{org:t,placementId:n,testMode:i}}}class nn extends Lt{customBannerBidParams(e,t){const n=this.customUnitBidParams(e),{sizes:i}=e;return{...n,...i&&{sizes:i}}}customVideoBidParams(e,t,n){this.checkVideoSizeSetting(e);const{sizes:i,language:s}=e,r=this.customUnitBidParams(e),o=n.openRTB,a=i?i[0]:null;return{...r,...a&&{size_id:a},video:{...o,language:s||"en"}}}checkVideoSettings(e,t){super.checkVideoSettings(e,t);const{language:n}=e;this.warnIfNotSet("language",n)}customUnitBidParams(e){const{accountId:t,siteId:n,position:i,zoneId:s}=e;return{accountId:t||"",siteId:n||"",zoneId:s||"",...i&&{position:i}}}checkSettings(e,t){super.checkSettings(e,t);const{siteId:n,zoneId:i,accountId:s}=e;this.warnIfNotSet("siteId",n),this.warnIfNotSet("zoneId",i),this.warnIfNotSet("accountId",s)}checkVideoSizeSetting(e){const{sizes:t}=e;t&&1!==t.length&&this.warnWrongVariable("sizes",t)}}class sn extends Lt{customBannerBidParams(e,t){return this.customUnitBidParams(e)}customVideoBidParams(e,t,n){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{publisherId:n,adUnitId:i,placement:s}=e;this.warnIfNotSet("publisherId",n),this.warnIfNotSet("adUnitId",i),this.warnIfNotSet("placement",s)}customUnitBidParams(e){const{publisherId:t,adUnitId:n,placement:i}=e;return{publisherId:t,adUnitId:n,placement:i}}}class rn extends Lt{customBannerBidParams(e,t){return this.customUnitBidParams(e)}customVideoBidParams(e,t,n){return this.customUnitBidParams(e)}customUnitBidParams(e){const{pkey:t}=e;return{pkey:t,iframe:!0}}checkSettings(e,t){super.checkSettings(e,t);const{pkey:n}=e;this.warnIfNotSet("pkey",n)}}class on extends Lt{customVideoBidParams(e,t,n){return{}}checkVideoSettings(e,t){super.checkVideoSettings(e,t),this.warn("should be disabled for videos")}customBannerBidParams(e,t){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{zoneId:n}=e;this.warnIfNotSet("zoneId",n)}customUnitBidParams(e){const{zoneId:t}=e;return{zoneId:`${t}`}}}class an extends Lt{customBannerBidParams(e,t){return this.customUnitBidParams(e)}customVideoBidParams(e,t,n){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{sid:n}=e;this.warnIfNotSet("sid",n)}customUnitBidParams(e){const{sid:t}=e;return{sid:t}}}class dn extends Lt{customBannerBidParams(e,t,n){return this.customUnitBidParams(e,n)}customVideoBidParams(e,t,n){return this.customUnitBidParams(e,n)}checkBannerSettings(e,t){super.checkBannerSettings(e,t),this.warn("should be disabled for banners")}customUnitBidParams(e,t){const{pageUrl:n}=t,{AV_PUBLISHERID:i,AV_CHANNELID:s,AV_CGINFO:r}=e;return{AV_PUBLISHERID:i,AV_CHANNELID:s,AV_CGINFO:r,AV_URL:n}}checkSettings(e,t){super.checkSettings(e,t);const{AV_PUBLISHERID:n,AV_CHANNELID:i}=e;this.warnIfNotSet("AV_PUBLISHERID",n),this.warnIfNotSet("AV_CHANNELID",i)}}class cn extends Lt{customVideoBidParams(e,t,n){const i=this.customUnitBidParams(e,t.mediaType()),{maxduration:s,minduration:r,skip:o,api:a}=n.openRTB;return{...i,video:{maxduration:s,minduration:r,skippable:1===o,frameworks:a,context:"pre_roll"}}}customBannerBidParams(e,t){const n=t.mediaType();return this.customUnitBidParams(e,n)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:n,member:i}=e;this.warnIfNotSet("placementId",n),this.warnIfNotSet("member",i)}customUnitBidParams(e,t){const{placementId:n,member:i}=e,{pos:s}=t;return{placementId:n,member:i,allowSmallerSizes:!0,supplyType:"web",position:1===s?"above":void 0}}}class un extends Lt{customBannerBidParams(e,t,n){return{}}checkBannerSettings(e,t){super.checkBannerSettings(e,t),this.warn("should be disabled for banners")}customVideoBidParams(e,t,n){const{placementId:i}=e;return{placementId:i}}checkSettings(e,t){super.checkSettings(e,t);const{placementId:n}=e;this.warnIfNotSet("placementId",n)}}class ln extends Lt{customVideoBidParams(e,t,n){return{}}checkVideoSettings(e,t){super.checkVideoSettings(e,t),this.warn("should be disabled for videos")}customBannerBidParams(e,t){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{customEndpoint:n,placementId:i}=e;this.warnIfNotSet("customEndpoint",n),this.warnIfNotSet("placementId",i)}customUnitBidParams(e){const{customEndpoint:t,placementId:n}=e;return{customEndpoint:t,placementId:n}}}class hn extends Lt{customBannerBidParams(e,t,n){return this.customBidParamsImpl(e)}customVideoBidParams(e,t,n){return this.customBidParamsImpl(e)}customBidParamsImpl(e){const{token:t}=e;return{token:t}}checkSettings(e,t){super.checkSettings(e,t);const{token:n}=e;this.warnIfNotSet("token",n)}}class pn extends Lt{customBannerBidParams(e,t,n){return this.customBidParamsImpl(e)}customVideoBidParams(e,t,n){const i=this.customBidParamsImpl(e),s={placement:gt.INTERSTITIAL,plcmt:mt.INTERSTITIAL};return{...i,video:{...n.openRTB,...s}}}customBidParamsImpl(e){const{supplySourceId:t,publisherId:n}=e;return{supplySourceId:t,publisherId:n}}checkSettings(e,t){super.checkSettings(e,t);const{supplySourceId:n,publisherId:i}=e;this.warnIfNotSet("supplySourceId",n),this.warnIfNotSet("publisherId",i)}}class gn{static createBidder(e,t,n){const i=ae(e,n.bidders||[]),s=Object.assign({},t,i);switch(e){case"appnexus":return new Vt(e,s);case"google":return new Ht(e,s);case"ix":return new Yt(e,s);case"pubmatic":return new Xt(e,s);case"rubicon":return new nn(e,s);case"sharethrough":return new rn(e,s);case"venatus":return new dn(e,s);case"rise":return new tn(e,s);case"stroeerCore":return new an(e,s);case"mediafuse":return new Zt(e,s);case"amazon":return new Nt(e,s);case"adsense":return new Mt(e,s);case"iionads":return new Kt(e,s);case"webads":return new cn(e,s);case"goldbach":return new $t(e,s);case"smilewanted":return new on(e,s);case"beintoo":return new Gt(e,s);case"seedtag":return new sn(e,s);case"adbility":return new Dt(e,s);case"richaudience":return new en(e,s);case"mediasquare":return new Qt(e,s);case"ozone":return new Jt(e,s);case"connatix":return new un(e,s);case"invibes":return new ln(e,s);case"ttd":return new pn(e,s);case"alkimi":return new hn(e,s)}}static createBidders(e,t){const n=ce().map((n=>{const i=ae(n,e.bidders||[]),s=Object.assign({code:n,video:{placements:{}}},i);return this.createBidder(n,s,t)}));let i=null,s=null,r=null;const o=[];return n.forEach((e=>{switch(e.code){case"google":i=e;break;case"amazon":s=e;break;case"adsense":r=e;break;default:return void o.push(e)}})),{google:this.checkIfFailedToCreate("google",i),amazon:this.checkIfFailedToCreate("amazon",s),prebid:o,adsense:this.checkIfFailedToCreate("adsense",r)}}static checkIfFailedToCreate(e,t){if(t)return t;throw new Error(`[BidderFactory] failed to create ${e}`)}}o(4155);async function mn(){try{await k("https://rafvertizing.crazygames.com/prebid.js")}catch(e){return t.debug('[Adblock] Adblock detected (our "prebid" failed to load)',e),!0}try{const e=!document.getElementById("AZJUSpftxLwH");return e&&t.debug("[Adblock] Adblock detected (no div)"),e}catch(e){return t.debug("[Adblock] Adblock detected"),!0}}function fn(){return Promise.race([mn(),we(250,!1)])}let bn;const vn=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];bn&&!e||(bn=fn());const t=await bn;return t};const yn=new class extends C{constructor(){super("blockthrough")}getScriptLocation(){return"https://btloader.com/tag?o=5635927334453248&upapi=true"}async shouldLoad(){return await vn()}};function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Sn{constructor(e,t){wn(this,"adRequester",void 0),wn(this,"requestManager",void 0),wn(this,"requestPromise",void 0),wn(this,"adUnits",void 0),wn(this,"options",void 0),wn(this,"bidders",void 0),wn(this,"prebidAdUnits",void 0),wn(this,"apstagSlots",void 0),wn(this,"requestTimeout",void 0),wn(this,"apstagRequestTimeoutHit",!1),wn(this,"advertisingConfig",void 0),wn(this,"adRequestResponse",{}),this.adRequester=e,this.advertisingConfig=t,this.adUnits=[],this.prebidAdUnits=null,this.apstagSlots=null,this.requestManager=new ut(["amazon","prebid"]),this.requestPromise=null,this.requestTimeout=t.timeout||1200}requestAds(e,n){return new Promise((async(i,s)=>{if(this.requestPromise={resolve:i,reject:s},0===e.length)return t.debug("[AdRequest] No renderable ad units requested"),void this.requestPromise.resolve(this.adRequestResponse);this.adUnits=e,this.options=n,this.createBidders(),this.adRequester.loadScripts((e=>{t.debug(`[AdRequest] ${e} failed to loaded`),this.adUnits&&this.auctioneerRequestFinished(e)}),!!n.disableBlockthrough),this.setTimeout(n),this.processAds()}))}async processAds(){this.setAdsenseBids(),this.adRequester.loadAdsenseIfBid(),this.setNonGoogleBids(),this.requestApstag(),this.requestPrebid()}async auctioneerRequestFinished(e){if(t.debug(`[AdRequest] ${e} finished`),this.requestManager.setAuctioneerFinished(e),this.requestManager.haveBiddersFinished()){var n;if(await this.initAdserver())null===(n=this.requestPromise)||void 0===n||n.resolve(this.adRequestResponse)}}setTimeout(e){const{timeout:t}=e;t&&(this.requestTimeout=t)}noAmazonBids(){return 0===this.getRequestedApstagSlots().length}noPrebidUnits(){return 0===this.getRequestedPrebidAdUnits().length}noPrebidBids(){const e=this.getRequestedPrebidAdUnits();return 0===e.length||e.every((e=>0===e.bids.length))}prebidBidders(){return this.bidders.prebid}createBidders(){this.bidders=gn.createBidders(this.advertisingConfig,this.options)}setAdsenseBids(){this.adRequester.setBidsForUnits(this.adUnits,this.options,[this.bidders.adsense])}setNonGoogleBids(){this.adRequester.setBidsForUnits(this.adUnits,this.options,[...this.bidders.prebid,this.bidders.amazon])}setAmazonBids(e){const t=e.filter((e=>"video"===e.mediaType)),n=e.filter((e=>"video"!==e.mediaType));this.setAmazonVideoBids(t),this.setAmazonBannerBids(n)}setAmazonVideoBids(e){const n=this.adUnits.filter(Ot);if(n.length>0){const i=n[0],s=e.map((e=>i.getBids().processAmazonBid(e))).filter(I);if(xe(s.map((e=>e.cpm)),Te()).isGreaterThanZero()){const e=i.code();this.adRequestResponse[e]=this.adRequestResponse[e]||{bids:[]},this.adRequestResponse[e].bids.push({bidder:"amazon"})}i.getBids().setAmazonBid(s),n.length>1&&t.warn("[apstag] got multiple video units, cant deal with those")}}setAmazonBannerBids(e){const n=this.adUnits.filter((e=>e.isBanner()));e.forEach((e=>{const{slotID:i}=e,s=n.find((e=>e.code()===i));if(!s)return void t.warn("[apstag] bid without matching unit");const r=s.getBids().processAmazonBid(e);r&&(r.cpm.isGreaterThanZero()&&(this.adRequestResponse[i]=this.adRequestResponse[i]||{bids:[]},this.adRequestResponse[i].bids.push({bidder:"amazon"})),s.getBids().setAmazonBid([r]))}))}requestPrebid(){this.noPrebidUnits()||this.adRequester.getPrebidFailedToLoad()?this.auctioneerRequestFinished("prebid"):R().que.push((()=>{this.setPrebidBidderSettings(),this.prebidAddAdUnits(),this.prebidRequestBids()}))}setPrebidBidderSettings(){const e=F(),t=this.prebidBidders().reduce(((e,t)=>Object.assign({},e,t.getPrebidBidderSettings())),{standard:{bidCpmAdjustment:e=>e,storageAllowed:!1}});e.bidderSettings=t}prebidAddAdUnits(){const e=F(),t=this.getRequestedPrebidAdUnits();t.forEach((t=>{e.removeAdUnit(t.code)})),e.addAdUnits(t)}prebidRequestBids(){const e=F();this.noPrebidBids()?this.auctioneerRequestFinished("prebid"):e.requestBids({adUnits:this.getRequestedPrebidAdUnits(),bidsBackHandler:async(t,n)=>{void 0!==t&&(Object.keys(t).forEach((e=>{this.adRequestResponse[e]=this.adRequestResponse[e]||{bids:[]};const n=t[e].bids.map((e=>({bidder:e.bidderCode})));this.adRequestResponse[e].bids.push(...n)})),await dt.getInstance().filterBids(e,t),this.auctioneerRequestFinished("prebid"))},timeout:this.requestTimeout})}getRequestedPrebidAdUnits(){return null===this.prebidAdUnits&&(this.prebidAdUnits=this.adRequester.getPrebidAdUnitsForUnits(this.adUnits)),this.prebidAdUnits}async requestApstag(){if(this.noAmazonBids()||this.adRequester.getApstagFailedToLoad())return void this.auctioneerRequestFinished("amazon");this.adRequester.loadAmazon((()=>{this.options.disableBlockthrough||yn.loadIfNeeded().catch((()=>{})),this.auctioneerRequestFinished("amazon")})),await this.adRequester.initializeApstag(this.options),await new Promise((e=>{setTimeout(e,100),requestAnimationFrame((()=>{setTimeout(e,0)}))}));let e=null;try{const n={slots:this.getRequestedApstagSlots(),timeout:this.requestTimeout};t.debug(`[apstag] ${JSON.stringify(n)}`),this.apstagRequestTimeoutHit=!1,e=window.setTimeout((()=>{t.debug("[apstag] timeout"),this.apstagRequestTimeoutHit=!0,this.auctioneerRequestFinished("amazon")}),this.requestTimeout+100),await this.setAmazonUser(),D().fetchBids(n,(n=>{e&&window.clearTimeout(e),this.apstagRequestTimeoutHit||(t.debug("[apstag] bids back"),n.forEach((e=>{t.debug(`[apstag]${He(e)?"(no bids available)":""} ${JSON.stringify(e)}`)})),this.setAmazonBids(n.filter((e=>!He(e)))),this.auctioneerRequestFinished("amazon"))}))}catch(n){t.error(n),e&&window.clearTimeout(e),this.auctioneerRequestFinished("amazon")}}async setAmazonUser(){var e,n;const i=null===(e=this.options.clientInfo)||void 0===e?void 0:e.country;if(!i||!fe(i))return;const{user:s}=this.options;if(!s)return;if(t.debug("[AdRequest] Setting user info",s),!s.email||null===(n=s.amazon)||void 0===n||!n.applicable)return new Promise((e=>{D().dpa(e)}));t.debug("[AdRequester] Setting email in apstag");const r={hashedRecords:[{type:"email",record:await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(s.email)}]};return new Promise((e=>{D().upa(r,e)}))}getRequestedApstagSlots(){return null===this.apstagSlots&&(this.apstagSlots=this.adRequester.getApstagSlotsForUnits(this.adUnits)),this.apstagSlots}async initAdserver(){var e;if(this.requestManager.adserverRequestSent)return!1;this.requestManager.adserverRequestSent=!0;const t=this.adUnits.filter(Ot);if(0===t.length)return!0;const n=null===(e=this.options.bidders)||void 0===e?void 0:e.filter((e=>"google"===e.bidder))[0],i={dfp:this.options.dfp,requestTimeout:this.options.timeout??this.requestTimeout,googleBidder:n,video:this.options.video,disableBlockthrough:this.options.disableBlockthrough,trafficSource:this.options.trafficSource};return await this.adRequester.renderBids(t,i),!0}}const An=new class{constructor(){var e,t,n;n=void 0,(t="cache")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,this.cache=new Map}getHighestBidForSlotIds(e,t){const n=[];for(const t of e){const e=this.getBidsForSlot(t);e.length>0&&n.push(...e)}const i=this.getBidsForSizes(n,t);return this.getHighestBid(i)}cacheBid(e,t){if(!e.cpm.isGreaterThanZero())return;const n={...e,receivedAt:Date.now(),used:!1,adFormat:t.adFormat},i=this.getBidsForSlot(e.slotID)||[];this.cache.set(e.slotID,[...i,n])}getBidsForSlot(e){const n=this.cache.get(e);if(!n)return[];const i=n.filter((e=>this.isValidBid(e)));return t.debug(`[AmazonBidCache] getBidsForSlot(${e})`,n,`${i.length} valid bids`),this.cache.set(e,i),i}markBidAsUsed(e){t.debug("[AmazonBidCache] markBidAsUsed",e);let n=null;return this.cache.forEach((i=>{i.forEach((i=>{i.amzniid===e&&(t.debug("[AmazonBidCache] Found bid to mark as used",i),i.used=!0,n=i)}))})),n}reset(){this.cache.clear()}getHighestBid(e){return 0===e.length?null:e.reduce(((e,t)=>t.cpm.isGt(e.cpm)||t.cpm.isEq(e.cpm)&&t.receivedAt<e.receivedAt?t:e),e[0])}isValidBid(e){const t="video"===e.adFormat?25e4:15e4,n=e.receivedAt+t;return Date.now()<n&&!e.used}getBidsForSizes(e,t){if(0===t.length)return e;const n=t.map((e=>`${e[0]}x${e[1]}`));return e.filter((e=>n.includes(e.amznsz)))}};function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const In=class extends It{constructor(e,t){super(t),Bn(this,"unit",void 0),Bn(this,"slot",void 0),Bn(this,"apstagSlot",void 0),this.unit=e}isBanner(){return!0}isVideo(){return!1}getMinPricePaidForUnit(e,t){var n;if(e||t)return Te();const i=(null===(n=this.currentWinningPrebidBid())||void 0===n?void 0:n.cpm)??Te(),s=this.getAmazonBid();return xe([i,(null==s?void 0:s.cpm)??Te(),this.prebidPriceFloor??Te()],Te())}resetPriceFloorsAndBids(){super.resetPriceFloorsAndBids(),this.removeApstagSlots()}getAmazonBid(){return t.debug(`[BannerBids] Unit: ${this.unit.code()}. Using Amazon bid cache with slot ids: ${this.apstagSlotIds}`),An.getHighestBidForSlotIds(this.apstagSlotIds,this.unit.getSizes())}setAmazonBid(e){e.length>1&&t.warn(`[Bids] ${this.unit.code()} Multiple Amazon bids received for a banner when only one was expected`,e);const n=e[0];An.cacheBid(n,{adFormat:"banner"})}getApstagSlots(){return this.apstagSlot?[this.apstagSlot]:void 0}setApstagSlots(){if(this.apstagSlot){const e=this.computeApsPriceFloor();e&&(this.apstagSlot.floor=Ge(e))}}addApstagSlot(e){this.apstagSlotIds.push(e);const{slotId:t}=this.unit.requestUnit;this.apstagSlot={slotID:e,slotName:t,sizes:this.unit.getSizes()}}removeApstagSlots(){this.apstagSlot=void 0,this.apstagSlotIds=[]}slotId(){return this.slot?this.slot.getAdUnitPath():null}getSlot(){if(!this.slot)throw new Error(`[AdUnit] ${this.unit.code()} expected to have googletag slot`);return this.slot}findSlot(e){if(this.slot)return this.slot;return j().pubads().getSlots().find((t=>t.getSlotElementId()===e))}defineSlot(){if(this.slot)return;const e=j();if(this.slot=e.defineSlot(this.unit.requestUnit.slotId,this.unit.getSizes(),this.unit.elementId()),this.slot)this.slot.addService(e.pubads());else{const e=this.findSlot(this.unit.elementId());this.slot=e}t.debug("[BannerBids] Created slot",this.slot)}markSlotAsDestroyed(){this.slot=void 0}setSlotTargeting(e){const t=this.getSlot(),n=this.getGooglePriceFloor(),i={[this.impressionKey]:e.toString()};return null!==n&&(i[this.priceFloorKey]=this.priceFloorTargeting(n)),t.updateTargetingFromMap(i),t}getPrebidPriceBuckets(){return Xe}};function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class kn extends Ft{constructor(e,t){super(e,t),Pn(this,"maxHouseAdRenderInRow",void 0),Pn(this,"bids",void 0),Pn(this,"unitHasBeenDisplayed",!1),Pn(this,"unitIsFilled",!1),this.bids=new In(this,t.pageIdentifier),this.maxHouseAdRenderInRow=4}getBids(){return this.bids}mediaType(){return this.requestUnit.adUnit.mediaTypes.banner}isBanner(){return!0}display(){this.unitHasBeenDisplayed||(this.unitHasBeenDisplayed=!0,j().display(this.elementId()))}bidParamsForBidder(e,t,n){return e.customBannerBidParams(t,this,n)}checkBidderSettings(e,t){return t.checkBannerSettings(e,this)}canRender(){return(0===this.numberOfImpressions||!this.getBids().hasAdsenseBidRendered())&&this.maxHouseAdRenderInRow>this.houseAdWasRenderedInRowCounter}async resetForRender(t,n){let i=!1;if(function(e,t){return t.some((t=>!e.some((e=>e[0]===t[0]&&e[1]===t[1]))))}(Pt(this.requestUnit.adUnit),Pt(t.adUnit))&&(e.debug("[AdRequester] Remaking slots because new unit contains different banner sizes"),await this.remakeSlot(),i=!0),super.resetForRender(t,n),!i&&this.numberOfImpressions>0&&this.numberOfImpressions%kn.maxImpressionsBeforeRemakingSlots==0)return e.debug("[AdRequester] Remaking slots because of max impressions reached"),this.remakeSlot()}findSlot(){const{slotId:t}=this.requestUnit;return t||e.error(`[AdUnit] Missing Slotid for ${this.code()}`),this.bids.findSlot(this.elementId())}getSlot(){return this.bids.getSlot()}slotId(){return this.bids.slotId()}defineSlot(){const{slotId:t}=this.requestUnit;t||e.error(`[AdUnit] Missing Slotid for ${this.code()}`),this.bids.defineSlot()}markSlotAsDestroyed(){this.bids.markSlotAsDestroyed()}increaseNumberOfImpressions(){this.numberOfImpressions+=1}increaseNumberOfRequests(){this.numberOfRequests+=1}getUnitIsFilled(){return this.unitIsFilled}setUnitIsFilled(e){this.unitIsFilled=e}renderedNonHouseAd(){e.debug(`[BannerUnit] ${this.code()} rendered non house ad`),this.houseAdWasRenderedInRowCounter=0}renderedHouseAd(){e.debug(`[BannerUnit] ${this.code()} rendered house ad`),this.houseAdWasRenderedInRowCounter++}setSlotTargeting(){this.bids.setSlotTargeting(this.numberOfImpressions)}getMinPricePaidForUnit(e,t){return this.bids.getMinPricePaidForUnit(e,t)}invokeCallback(t,n,i,s,r){const{banner:o}=this.requestUnit,a=o&&o.callback||r;if(e.debug("[BannerUnit] invoking callback",a),a)try{a({empty:n,size:i,code:this.code(),slotId:this.bids.slotId(),houseAd:s,minPrice:wt(t)})}catch(t){e.error(`[BannerUnit] ${this.code()}, err in invoking callback`,t)}}remakeSlot(){return new Promise((e=>{O().cmd.push((()=>{const t=j(),n=this.findSlot();n&&(n.clearTargeting(),t.destroySlots([n]),this.markSlotAsDestroyed(),this.defineSlot()),e()}))}))}}Pn(kn,"houseAdWasRenderedTwiceInRowKey","house_ad_twice_row"),Pn(kn,"maxImpressionsBeforeRemakingSlots",64);const Cn=kn;const Un=class{static createAdUnit(t,n){const{mediaTypes:i}=t.adUnit,s=!!i.video,r=!!i.banner;return r&&s&&e.warn(`[AdUnitFactory] ${t.adUnit.code} has multiple formats`),r?new Cn(t,n):s?new jt(t,n):(e.error(`[AdUnitFactory] ${t.adUnit.code} has no supported formats`),null)}};function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xn=new class{constructor(){Tn(this,"listeners",[]),Tn(this,"listenerInstalled",!1),Tn(this,"internalListener",(e=>{this.listeners.forEach((t=>{t(e)}))}))}removeAllListeners(){this.listeners=[],this.removeListener()}addListener(e){this.installListener(),this.listeners.push(e)}installListener(){if(this.listenerInstalled)return;this.listenerInstalled=!0;j().pubads().addEventListener("slotRenderEnded",this.internalListener)}removeListener(){if(!this.listenerInstalled)return;j().pubads().removeEventListener("slotRenderEnded",this.internalListener),this.listenerInstalled=!1}};function zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const En=[138449654392,138233616993,138233616990,138233681903,138233616984,138233616981,138233681900,138233681897,138233738059,138233738062,138233681894],Rn=["amznactt","amznbid","amzniid","amznp","amznsz"],_n={amznbid:2,amznp:2};const Fn=class{constructor(){zn(this,"renderListener",xn),zn(this,"googleTagEnabled",!1)}render(e,t,n,i,s,r,o){if(0===e.length)return Promise.resolve();const{adsenseUnits:a,amazonAndPrebidUnits:d}=this.groupAdunitsByType(e);if(a.length>0&&this.renderAdsense(a),0===d.length)return Promise.resolve();const c=d.reduce(((e,t)=>({...e,[t.code()]:t.getMinPricePaidForUnit(!1,!1)})),{}),u=this.processSlotRenderedEvent(e,B.advertiserIds||[],s,c);return new Promise((e=>{O().cmd.push((()=>{const s=j();this.renderListener.removeAllListeners(),this.renderListener.addListener(u),d.forEach((e=>e.increaseNumberOfImpressions())),s.pubads().clearTargeting(),R().que.push((async()=>{this.setAmazonTargeting(i),this.createDfpObjects(d,t,o),this.setPrebidTargeting(n),await this.showNonAdsenseAds(d,r),e()}))}))}))}renderAdsense(t){e.debug(`[BannerRenderer] Rendering AdSense for units: ${t.map((e=>e.code())).join(", ")}`),t.forEach((e=>{e.getBids().setAdsenseRendered(),M.getInstance().getAdsenseWindow().push({})}))}async showNonAdsenseAds(e,t){const n=j();await vn()&&!t&&await yn.loadIfNeeded(!0).catch((()=>{})),e.forEach((e=>e.display())),e.length>0&&n.pubads().refresh(e.map((e=>e.getSlot())))}createDfpObjects(e,t,n){this.enableGoogletag(n),this.createDfpTargets(e,t)}enableGoogletag(e){if(this.googleTagEnabled)return;this.googleTagEnabled=!0;const t=j();if(t.pubads().enableSingleRequest(),e){const n="organic"===e?t.enums.TrafficSource.ORGANIC:t.enums.TrafficSource.PURCHASED;t.pubads().setPrivacySettings({trafficSource:n})}t.enableServices()}createDfpTargets(e,t){Object.entries(t).forEach((e=>{let[t,n]=e;t&&n&&this.setDfpTarget(t,n)})),e.forEach((e=>e.setSlotTargeting()))}setDfpTarget(t,n){if(null==n)return;let i;e.debug(`[googletag] Target ${t} ${n}`),i=Array.isArray(n)?n.map((e=>`${e}`)):`${n}`,j().pubads().setTargeting(t,i)}setAmazonTargeting(t){0===t.length||t.forEach((t=>{const n=j().pubads().getSlots().find((e=>e.getSlotElementId()===t.slotID));if(n){const e=An.getHighestBidForSlotIds([t.slotID],t.sizes);e?Rn.forEach((t=>{const i=e[t];i&&n.setTargeting(t,i)})):Object.entries(_n).forEach((e=>{let[t,i]=e;n.setTargeting(t,i.toString())}))}else e.warn(`[BannerRenderer] No googletag slot found for apstag slot with ID ${t.slotID}`)}))}setPrebidTargeting(e){const t=F();0===e.length||(t.setTargetingForGPTAsync(e.map((e=>e.code))),t.registerSignalSources())}processSlotRenderedEvent(t,n,i,s){return r=>{const{advertiserId:o,slot:a}=r,d=t.filter((e=>e.slotId()===a.getAdUnitPath()));if(0===d.length)return void e.warn(`[BannerRenderer] No matching unit for slot ${a.getAdUnitPath()}`);if(d.length>1)return void e.warn(`[BannerRenderer] Multiple units (${d.length}) for slot ${a.getAdUnitPath()}`);const c=d[0];c.getBids().hasAdsenseBid()&&e.warn(`[BannerRenderer] Received a googletag slotRenderEnded event for a unit with an AdSense bid: ${c.code()}`),this.updateUnitFillState({unit:c,bannerOptions:i},{event:r,slot:a});const u=!c.getUnitIsFilled(),l={size:r.size,isEmpty:u},h=this.checkIfHouseAd(o,n,c);this.updateAmazonState(r),this.invokeUnitCallback(l,c,h,i.callback,s[c.code()])}}checkIfHouseAd(e,t,n){const i=null===e||t.some((t=>t===e));return i?n.renderedHouseAd():n.renderedNonHouseAd(),i}invokeUnitCallback(e,t,n,i,s){t.invokeCallback(s,e.isEmpty,e.size,n,i)}updateUnitFillState(e,t){const{unit:n,bannerOptions:i}=e,{event:s,slot:r}=t;if(!1===s.isEmpty)n.setUnitIsFilled(!0);else{var o,a;(null===(o=i.unitOptions)||void 0===o||null===(a=o[n.code()])||void 0===a?void 0:a.clearSlotIfEmpty)&&n.getUnitIsFilled()&&(j().pubads().clear([r]),n.setUnitIsFilled(!1))}}updateAmazonState(t){const n=t.slot.getSlotElementId(),i=t.slot.getTargeting("amzniid"),s=null==i?void 0:i[0];if(s){var r;const i=D().debug("getState"),o=t.slot.getResponseInformation(),a=o?t.slot.getHtml():"",d=!(!a.includes("apstag.renderImp")||!a.includes(s)),c=En.includes((null==o?void 0:o.creativeId)??0);d!==c&&e.error(`[BannerRenderer] isAmazonWin (from the slot html) ${d} is not equal to isAmazonCreative (based on the banner creative ids) ${c}`),d&&An.markBidAsUsed(s);((null==i||null===(r=i.slotBids)||void 0===r?void 0:r[n])||[]).forEach((e=>{const{bidConfig:t}=e;d&&t.amzniid===s&&(e.bidState="RENDERED"),(t.amzniid===s&&"RENDERED"!==e.bidState||t.amzniid!==s&&"SET"===e.bidState)&&(e.bidState="EXPOSED")}))}}groupAdunitsByType(e){const t=[],n=[];return e.forEach((e=>{e.getBids().hasAdsenseBid()?t.push(e):n.push(e)})),{adsenseUnits:t,amazonAndPrebidUnits:n}}};const qn=class{constructor(){}render(e,t,n){const{callback:i}=t;return e.forEach((e=>{const t=this.createRenderCallback(e,n);e.invokeCallback(t,i)})),Promise.resolve()}createRenderCallback(e,t){return n=>this.renderCallback(e,n,t)}async renderCallback(t,n,i){const s=await t.getBids().buildUrlWithConsent(F(),n,i);return e.debug(`[VideoRenderer] URL generated for ${t.code()}: ${s}`),s}};function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const jn=class{constructor(){On(this,"videoRenderer",void 0),On(this,"bannerRenderer",void 0),On(this,"dfpParams",void 0),On(this,"videoOptions",void 0),On(this,"bannerOptions",void 0),this.videoRenderer=new qn,this.bannerRenderer=new Fn,this.dfpParams=this.defaultDfpKeys(),this.videoOptions={},this.bannerOptions={}}async render(e,t,n,i){const{video:s,banner:r}=this.splitUnitsByType(e),o=this.createDfpPredefinedValues(t.requestTimeout||1200);this.dfpParams=Object.assign(this.defaultDfpKeys(),o,t.dfp),this.videoOptions=Object.assign(this.videoOptions,t.video),this.bannerOptions=Object.assign(this.bannerOptions,t.banner),await Promise.all([this.bannerRenderer.render(r,this.dfpParams,n,i,this.bannerOptions,!!t.disableBlockthrough,t.trafficSource),this.videoRenderer.render(s,this.videoOptions,this.dfpParams)])}splitUnitsByType(e){return e.reduce(((e,t)=>{let{video:n,banner:i}=e;return Ot(t)?{video:[...n,t],banner:i}:{video:n,banner:[...i,t]}}),{video:[],banner:[]})}defaultDfpKeys(){return Object.assign({},A.advertising.dfp||{})}createDfpPredefinedValues(e){return{timeout:`${e}`}}};const Ln=new class extends C{constructor(){super("Liveramp")}getScriptLocation(){return"https://ats-wrapper.privacymanager.io/ats-modules/f335ec38-f1f6-423b-8091-fe87576411ae/ats.js"}async shouldLoad(){return!0}};function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Mn{constructor(e,t){Dn(this,"experimentSetups",void 0),Dn(this,"experiments",void 0),Dn(this,"getExperiments",(()=>{if(!I(this.experiments)){let e;for(e in this.experiments={},this.experimentSetups){const t=this.experimentSetups[e];this.experiments[e]=t.isEnabled()}}return this.experiments})),Dn(this,"onUserEmailChanged",(e=>{for(const t of ee)this.experimentSetups[t].onUserEmailChanged(e);this.experiments=void 0})),Dn(this,"onCountryChanged",(e=>{for(const t of ee)this.experimentSetups[t].onCountryChanged(e);this.experiments=void 0})),this.experimentSetups={[K]:new Gn(K),[Y]:new Vn(Y),[Z]:new Vn(Z),[Q]:new Vn(Q),[J]:new $n(J),[X]:new Wn(X)},Object.values(this.experimentSetups).forEach((n=>n.init(e,t)))}}class Nn{constructor(e){Dn(this,"experimentName",void 0),Dn(this,"enabled",!1),Dn(this,"email",void 0),Dn(this,"country",void 0),this.experimentName=e}init(e,t){this.email=e,this.country=t,this.enabled=this.calculateEnabledState()}isEnabled(){return this.enabled}onCountryChanged(e){this.country=e,this.enabled=this.calculateEnabledState()}onUserEmailChanged(e){this.email=e,this.enabled=this.calculateEnabledState()}calculateEnabledState(){return this.areConditionsMet(this.email,this.country)&&!!ne.getInstance().getExperimentValueAsBoolean(this.experimentName)}getEmail(){return this.email}getCountry(){return this.country}}class Vn extends Nn{constructor(e){super(e)}areConditionsMet(e,t){return!0}}class Gn extends Nn{constructor(e){super(e)}init(e,t){super.init(e,t),this.updateFlagOnWindow()}onCountryChanged(e){super.onCountryChanged(e),this.updateFlagOnWindow()}updateFlagOnWindow(){var e;(this.isEnabled()||null!==(e=window)&&void 0!==e&&e.liModuleEnabled)&&(window.liModuleEnabled=this.isEnabled())}areConditionsMet(e,t){return fe(t)||"CA"===t}}class $n extends Nn{constructor(e){super(e),Dn(this,"loaderPromise",void 0),Dn(this,"emailStored",!1),Dn(this,"envelopeModuleReady",!1),Dn(this,"onEnvelopeModuleReady",(()=>{this.envelopeModuleReady=!0,this.storeEmailOnWindow(),window.removeEventListener("envelopeModuleReady",this.onEnvelopeModuleReady)}))}init(e,t){super.init(e,t),this.setupLoaderPromise(),this.storeEmailOnWindow()}areConditionsMet(e,t){return!I(t)||["US","CA","MX","JP","HK","AU","NZ","ID","SG","AR","TW"].includes(t)}onCountryChanged(e){super.onCountryChanged(e),this.setupLoaderPromise()}onUserEmailChanged(e){super.onUserEmailChanged(e),this.storeEmailOnWindow()}setupLoaderPromise(){this.isEnabled()&&!I(this.loaderPromise)&&(window.addEventListener("envelopeModuleReady",this.onEnvelopeModuleReady),this.loaderPromise=Ln.loadIfNeeded().catch((()=>{})))}storeEmailOnWindow(){const e=this.getEmail();!this.emailStored&&I(this.loaderPromise)&&I(e)&&this.envelopeModuleReady&&(this.emailStored=!0,this.loaderPromise.then((()=>{window.ats.setAdditionalData({type:"email",id:e})})))}}class Wn extends Nn{constructor(e){super(e)}areConditionsMet(e,t){return!(!(n=t)||pe.indexOf(n)>=0||"GB"===t)&&I(e);var n}}function Hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kn;!function(e){e.DOES_NOT_APPLY="1---",e.DEFAULT="1YNN"}(Kn||(Kn={}));class Yn{constructor(e){Hn(this,"config",void 0),Hn(this,"experimentsSetup",void 0),Hn(this,"amazonConfig",void 0),Hn(this,"prebidAdUnits",void 0),Hn(this,"adUnits",void 0),Hn(this,"renderer",void 0),Hn(this,"isApstagInitialized",void 0),Hn(this,"isPrebidInitialized",void 0),Hn(this,"isGoogletagInitialized",void 0),Hn(this,"prebidFailedToLoad",void 0),Hn(this,"apstagFailedToLoad",void 0),Hn(this,"lastUsedUserEmail",void 0),Hn(this,"lastUsedCountry",void 0),this.config=e,this.experimentsSetup=new Mn(this.lastUsedUserEmail,this.lastUsedCountry),this.adUnits=[],this.prebidAdUnits=[],this.renderer=new jn,this.isApstagInitialized=!1,this.isPrebidInitialized=!1,this.isGoogletagInitialized=!1,this.prebidFailedToLoad=!1,this.apstagFailedToLoad=!1,O().cmd.push((()=>{const e=j();e.pubads().disableInitialLoad(),e.setConfig({threadYield:"ENABLED_ALL_SLOTS"})}))}requestAds(t,n){var i,s;return e.debug("[AdRequester] Requesting ads",t,"with options",n),this.updateLastUsedUserEmail((null===(i=n.user)||void 0===i?void 0:i.email)??void 0),this.updateLastUsedCountry((null===(s=n.clientInfo)||void 0===s?void 0:s.country)??void 0),this.isPrebidInitialized?this.updatePrebidConfig(n):this.setPrebidConfig(n),new Promise((async(i,s)=>{const r=[he(),S.waitTillLoaded()];t.units.some((e=>!!e.adUnit.mediaTypes.banner))&&r.push(N.loadIfNeeded().catch((()=>{n.disableBlockthrough||yn.loadIfNeeded().catch((()=>{}))}))),await Promise.allSettled(r),await this.createAndUpdateAdUnits(t,n);const o=t.codes??t.units.map((e=>e.adUnit.code)),a=this.selectRequestedUnits(o),d=new Sn(this,this.config),c=await d.requestAds(a,n);e.debug("[AdRequester] Finished requesting ads with result",c),i(c)}))}reset(){this.adUnits=[],this.prebidAdUnits=[];const e=_();return void 0!==e&&e.removeAdUnit(),this.isPrebidInitialized=!1,this.isGoogletagInitialized=!1,this.destroyDfpSlots()}updateLastUsedUserEmail(e){const t=this.lastUsedUserEmail;this.lastUsedUserEmail=e,t!==this.lastUsedUserEmail&&(this.experimentsSetup.onUserEmailChanged(this.lastUsedUserEmail),this.updatePrebidUserIds())}updateLastUsedCountry(e){const t=this.lastUsedCountry;this.lastUsedCountry=e,t!==this.lastUsedCountry&&(this.experimentsSetup.onCountryChanged(this.lastUsedCountry),this.updatePrebidUserIds())}async createAndUpdateAdUnits(e,t){e.units.forEach((e=>{const n=e.adUnit.code,i=this.adUnits.map((e=>e.code())).indexOf(n);if(i>-1){const n=this.adUnits[i];if(n.isBanner())n.resetForRender(e,t),n.increaseNumberOfRequests();else{const n=Un.createAdUnit(e,t);this.adUnits[i]=n}}}));const n=e.units.filter((e=>!this.adUnits.map((e=>e.code())).includes(e.adUnit.code))).map((e=>Un.createAdUnit(e,t))).filter((e=>null!==e)),i=n.filter((e=>e.isBanner()));i.length>0&&await this.createDfpSlots(i),this.adUnits.push(...n)}selectRequestedUnits(t){const n=this.adUnits.filter((e=>t.includes(e.code()))),i=n.filter((e=>e.canRender()));return e.debug(`[AdRequester] Requesting ${n.length} units, of which ${i.length} can actually be rendered and will be included`,i.map((e=>e.code()))),i}addPrebidUnit(e){this.prebidAdUnits.push(e)}removePrebidUnit(e){this.prebidAdUnits=this.prebidAdUnits.filter((t=>t.code!==e))}setApstagConfig(e){this.amazonConfig=e}getPrebidFailedToLoad(){return this.prebidFailedToLoad}getApstagFailedToLoad(){return this.apstagFailedToLoad}getPrebidAdUnits(){return this.prebidAdUnits}setBidsForUnits(t,n,i){t.forEach((t=>{try{t.setBids(this,i,n);const e=t.getBids().getPrebidUnits();i.some((e=>"amazon"===e.code))&&t.setApstagSlots();(Ot(t)?t.getAllCodes():[t.code()]).forEach((e=>this.removePrebidUnit(e))),e.forEach((e=>this.addPrebidUnit(e)))}catch(n){e.error(`[AdRequest] ${t.code} error in setBids`,n)}}))}loadScripts(t,n){re.loadIfNeeded().catch((()=>{n||yn.loadIfNeeded(!0).catch((()=>{e.error("[AdRequester] Failed to load blockthrough")})),this.prebidFailedToLoad=!0,t("prebid")})),n||yn.loadIfNeeded().catch((()=>{e.error("[AdRequester] Failed to load blockthrough")}))}loadAdsenseIfBid(){this.adUnits.some((e=>e.getBids().hasAdsenseBid()))&&U.loadIfNeeded().catch((()=>{e.error("[AdRequester] failed to load adsense")}))}async loadAmazon(t){e.debug("[AdRequester] loading and initializing amazon");try{await T.loadIfNeeded()}catch(n){e.debug("[AdRequester] Apstag failed to load"),this.apstagFailedToLoad=!0,t()}}setPrebidConfig(e){this.isPrebidInitialized=!0;const{pageUrl:t}=e,n=this.getConsentConfig(e),i=this.getUserSyncConfig(e),s={useBidCache:!e.noBidCaching,bidCacheFilterFunction:(r=this.createPrebidBidCacheFilterFunction(),e=>{const t=rt(e);return r(t)})};var r;const o=this.getExperiments().hadron_exp_24?{realTimeData:{auctionDelay:2e3,dataProviders:[{name:"hadron",waitForIt:!0,params:{segmentCache:!1,partnerId:631}}]}}:{};R().que.push((()=>{var r;const a=F();ce().filter(de).forEach((e=>{const t=Zn(e);null!==t&&a.aliasBidder(t.alias,e,{gvlid:t.gvlid})})),a.setConfig({...e.pbjsConfig,minBidCacheTTL:60,eventHistoryTTL:60,gptPreAuction:{enabled:!0,useDefaultPreAuction:!0},enableTIDs:!0,pageUrl:t||(null===(r=e.pbjsConfig)||void 0===r?void 0:r.pageUrl),ortb2:this.ortb2Config(e)||void 0,floors:{enforcement:{bidAdjustment:!0,enforceJS:!0,floorDeals:!0,enforcePBS:!0}},userSync:i,rubicon:{singleRequest:!0},...s,enableSendAllBids:!0,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},userIdTargeting:{GAM:!0},mediaTypePriceGranularity:{video:{buckets:st},banner:{buckets:it}},timeoutBuffer:400,disableAjaxTimeout:!0,...n,sendBidsControl:{bidLimit:1},...o})}))}createPrebidBidCacheFilterFunction(){return e=>(e=>e.cpm.isGreaterThanZero())(e)&&(e=>e.responseTimestamp+1e3*e.ttl+1e3>(new Date).getTime())(e)}updatePrebidConfig(e){const{pageUrl:t}=e,n=this.getConsentConfig(e),i=this.getUserSyncConfig(e);R().que.push((()=>{var s;F().mergeConfig({...e.pbjsConfig,pageUrl:t||(null===(s=e.pbjsConfig)||void 0===s?void 0:s.pageUrl),ortb2:this.ortb2Config(e)||void 0,useBidCache:!e.noBidCaching,...n,...i})}))}getConsentConfig(e){var t;const n=null===(t=e.clientInfo)||void 0===t?void 0:t.country;if(!n)return{};if(me(n)){return{consentManagement:{gdpr:{cmpApi:"iab",timeout:1e3,defaultGdprScope:!0},usp:{timeout:0}}}}if(fe(n)){return{consentManagement:{usp:{timeout:1e3,cmpApi:"iab"}}}}return{consentManagement:{usp:{timeout:0}}}}getUserSyncConfig(e){const t={syncDelay:15e3,encryptedSignalSources:{sources:[{source:["criteo.com","adserver.org","id5-sync.com","sharedid.org"],encrypt:!1}]}},n=[{name:"criteo"},{name:"unifiedId",params:{partner:"c67xkla"},storage:{type:"cookie",name:"pbjs-unifiedid",expires:60}},{name:"id5Id",params:{partner:377},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},{name:"sharedId",storage:{name:"sharedid",type:"cookie"},params:{syncTime:86400}},{name:"lotamePanoramaId"}],i=this.getExperiments(),s=i.uid2_exp,r=i[K],o=i[J],a=i.hadron_exp_24,{user:d}=e;return s&&null!=d&&d.email&&n.push({name:"uid2",params:{email:d.email,subscriptionId:"riMWtTJCBu",serverPublicKey:"UID2-X-P-MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEjW+JEvJ+KsLeM9aimChBr//9M5kuzJ1Xcl6oC1hQ7K6S6ezNd1odmmLwViFqhyhZaW3OdLk4DaSuacb3jQHQDQ=="}}),r&&n.push({name:"liveIntentId",params:{emailHash:(null==d?void 0:d.email)??"",publisherId:"84896",requestedAttributesOverrides:{pubmatic:!0,magnite:!0,index:!0,uid2:!0}},storage:{name:"__tamLIResolveResult",type:"html5",expires:1}}),o&&(n.push({name:"identityLink",params:{pid:"13431"},storage:{type:"html5",name:"idl_env",expires:1}}),n.push({name:"pairId",params:{liveramp:{storageKey:"_lr_pairId"}}})),a&&n.push({name:"hadronId",params:{partnerId:631}}),t.userIds=n,t.filterSettings={iframe:{bidders:["stroeerCore","ozone"],filter:"include"}},t}updatePrebidUserIds(){const t=_();if(!I(t))return;if(!I(this.lastUsedUserEmail))return;const n=this.getExperiments()??{},i=n[K],s=n.uid2_exp,r=n[J],o=[];s&&o.push("uid2"),i&&o.push("liveIntentId"),r&&(o.push("identityLink"),o.push("pairId")),e.debug("userIdsToRefresh",o),o.length>0&&t.refreshUserIds({submoduleNames:o})}ortb2Config(t){const{pageUrl:n,ortb2Site:i}=t,s=n||(null==i?void 0:i.page);if(!s)return null;try{const e=new URL(s);return{site:{...i||{},page:s,domain:e.host}}}catch(t){return e.error(`[AdRequester] Invalid pageUrl ${n}`),null}}async initializeApstag(t){if(this.isApstagInitialized)return;this.isApstagInitialized=!0;const{params:n,...i}=this.amazonConfig,s={...i,params:{...n,videoAdServer:"DFP",us_privacy:await this.apstagPrivacy(t)}};e.debug("[AdRequester] Settings apstag config",s),D().init(s)}async apstagPrivacy(t){var n;const i=null===(n=t.clientInfo)||void 0===n?void 0:n.country;if(!i)return Kn.DOES_NOT_APPLY;if(!fe(i))return Kn.DOES_NOT_APPLY;try{const e=await ke.getInstance().getUspConsent();return(null==e?void 0:e.uspString)??Kn.DEFAULT}catch(t){return e.log(t),Kn.DEFAULT}}createDfpSlots(e){return e.length>0?this.isGoogletagInitialized?new Promise((t=>{O().cmd.push((()=>{e.forEach((e=>e.defineSlot())),t()}))})):(this.isGoogletagInitialized=!0,new Promise((t=>{O().cmd.push((()=>{j().pubads().setSafeFrameConfig({allowOverlayExpansion:!1,allowPushExpansion:!1,sandbox:!0}),e.forEach((e=>e.defineSlot())),t()}))}))):Promise.resolve()}destroyDfpSlots(){const e=this.adUnits.filter((e=>e.isBanner()));return 0===e.length?Promise.resolve():new Promise((t=>{O().cmd.push((()=>{const n=j(),i=e.map((e=>e.findSlot())).filter((e=>!!e));n.destroySlots(i),e.forEach((e=>e.markSlotAsDestroyed()));const s=n.pubads().getTargetingKeys(),r=["criteoId","id5id","tdid"];s.filter((e=>!r.includes(e))).forEach((e=>{n.pubads().clearTargeting(e)})),t()}))}))}async renderBids(t,n){const i="google",s={bidder:i,video:{placements:{}},...ae(i,this.config.bidders||[])},r=n;n.googleBidder&&(r.bidders=[n.googleBidder]);const o=gn.createBidder(i,s,r);this.setBidsForUnits(t,n,[o]);const a=t.map((e=>e.shouldRenderBid(n.filterFn))).filter((e=>!!e)),d=this.getPrebidAdUnitsForUnits(a),c=this.getApstagSlotsForUnits(a),u=a.some((e=>e.isVideo()))?"video":"banner";n.dfp=this.getGamKeyValues(n.dfp||{},u),e.debug("[AdRequester] Rendering bids",a,d,c),await this.renderer.render(t,n,d,c)}async renderBanners(t,n){const i=this.selectRequestedUnits(t);e.debug("[AdRequester] Rendering banners",t,n),e.debug("[AdRequester] Selected ad units",i),await this.renderBids(i,n)}getPrebidAdUnitsForUnits(e){const t=[];return e.forEach((e=>{if(Ot(e)){e.getAllCodes().forEach((e=>t.push(e)))}else t.push(e.code())})),this.getPrebidAdUnits().filter((e=>t.some((t=>t===e.code))))}getApstagSlotsForUnits(e){const t=[];return e.forEach((e=>{const n=e.getApstagSlots();n&&n.length>0&&t.push(...n)})),t}getExperiments(){return this.experimentsSetup.getExperiments()}getGamKeyValues(e,t){return{...e,...this.getExperimentGAMKeyValues(),...c.getIncrementalBidderGamKeys(t),...c.getSessionKVs(t)}}getExperimentGAMKeyValues(){const e=this.getExperiments()??{},t={};for(const n of ee){const i=e[n];void 0!==i&&(t[n]=`${i}`)}return Object.entries(zt.getAdditionalGAMKeyValuePairs()).forEach((e=>{let[n,i]=e;void 0!==i&&(t[n]=i)})),t}}function Zn(e){switch(e){case"venatus":return{alias:"aniview",gvlid:26};case"iionads":return{alias:"limelightDigital",gvlid:1358};case"webads":return{alias:"appnexus",gvlid:601};case"goldbach":return{alias:"appnexus",gvlid:580};case"beintoo":return{alias:"appnexus",gvlid:618};case"adbility":return{alias:"nexx360",gvlid:738};case"appnexus":case"rubicon":case"ix":case"pubmatic":case"sharethrough":case"rise":case"stroeerCore":case"mediafuse":case"smilewanted":case"seedtag":case"richaudience":case"mediasquare":case"ozone":case"connatix":case"invibes":case"ttd":case"alkimi":return null}}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Jn=class{constructor(){Qn(this,"queue",[]),Qn(this,"_adRequester",null)}queueRequest(e,t){return new Promise(((n,i)=>{const s={type:"request",options:t,request:e,deferred:{resolve:n,reject:i}};this.enqueue(s)}))}queueReset(){return new Promise(((e,t)=>{const n={type:"reset",options:{},request:{},deferred:{resolve:e,reject:t}};this.enqueue(n)}))}render(e,t){return this.adRequester.renderBanners(e,t)}enqueue(e){this.queue.push(e),1===this.queue.length&&this.processQueue()}async processQueue(){if(this.queue.length>0){const e=this.queue[0];try{const t=await this.processRequest(e);e.deferred.resolve(t)}catch(n){t.error(n),e.deferred.reject()}return this.queue.shift(),this.processQueue()}}processRequest(e){const{type:t}=e;if("request"===t){const t=e;return this.adRequester.requestAds(t.request,t.options)}return this.adRequester.reset()}get adRequester(){return this._adRequester||(this._adRequester=new Yn(A.advertising)),this._adRequester}};let Xn,ei=!1;async function ti(t,n){try{Xn||(Xn=new Jn);return await Xn.queueRequest(t,n)}catch(t){e.error(t)}}async function ni(t,n){try{if(!Xn)throw new Error("[CrazyAds] Expected a request before a render");await Xn.render(t,n)}catch(t){e.error(t)}}e.debug("[CrazyGamesAds] Loaded Version 11.10.0");const ii={requestAds:async function(t,n){try{const e=await ti(t,n),i=t.codes||t.units.map((e=>e.adUnit.code));return await ni(i,{...n,requestTimeout:n.timeout}),e}catch(t){e.error(t)}},requestOnly:ti,reset:async function(){try{if(!Xn)throw new Error("[CrazyAds] Expected a request before a reset");await Xn.queueReset(),zt.reset()}catch(t){e.error(t)}},render:ni,nextPage:function(){O().cmd.push((function(){j().destroySlots()})),Xn=new Jn},hasAdblock:vn,initAds:function(t){e.debug("initialising ads",t),ei||(ei=!0,g.getInstance().init(t),vn(),he(),re.loadIfNeeded().catch((e=>{})),S.fetchConfig())},getConsentInformation:function(e){return ke.getInstance().getConsentInformation(e)},addConsentChangedListener:function(e){ke.getInstance().addConsentListener(e)},removeConsentChangedListener:function(e){ke.getInstance().removeConsentListener(e)}};window.CrazygamesAds=ii})()})();